{"version":3,"sources":["styles/forms.js","contexts/AuthStore.js","services/BaseServices.js","services/AuthServices.js","components/Login.js","components/misc/Enlace.js","services/Users.Services.js","components/Register.js","components/misc/MenuButtons.js","components/misc/s2r2.js","styles/mainMenu.js","components/misc/UserMenu.js","utils/helpers.js","components/MainMenu.js","styles/stepForm.js","services/recordingServices.js","components/misc/SearchBar.js","components/misc/GoBack.js","components/misc/Dialog.js","components/misc/FormList.js","utils/cognitiveTest.js","components/misc/TabPanel.js","components/misc/TabHoc.js","components/recordings/Regulation.js","utils/validations.js","components/recordings/Create.js","styles/recorderStyles.js","components/misc/Recorder.js","utils/audioFile.js","components/recordings/Talking.js","components/recordings/Affective.js","components/recordings/getStepContent.js","components/misc/Navigation.js","utils/handlingData.js","components/recordings/Thanks.js","components/recordings/Checkout.js","components/RecordingsList.js","components/UsersList.js","guards/PrivateRoutes.js","guards/PublicRoutes.js","components/Forms/withFormPage.js","services/forms.services.js","hooks/index.js","components/Forms/form.js","components/Forms/Efl.form.js","components/Forms/Emotions.form.js","components/Forms/Strategies.form.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","secondary","main","form","width","submit","CURRENT_USER_KEY","AuthContext","React","createContext","AuthStore","state","user","JSON","parse","localStorage","getItem","handleUserChange","setState","setItem","stringify","removeItem","isAuthenticated","data","email","Provider","value","this","onUserChange","props","children","Component","withAuthConsumer","WrappedComponent","Consumer","consumerProps","process","NODE_ENV","REACT_APP_API_URL","REACT_APP_DEV_API","REACT_APP_DEV_BASE_URL","REACT_APP_PRO_BASE_URL","isDev","http","axios","create","baseURL","withCredentials","dataType","interceptors","response","use","error","status","Promise","reject","baseRoute","window","location","assign","register","post","authenticate","credentials","logout","classes","useState","setError","password","setUser","isLoading","setLoader","handleUser","name","event","target","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","onSubmit","preventDefault","authService","then","console","log","message","TextField","onChange","required","fullWidth","id","label","autoComplete","autoFocus","type","FormControlLabel","control","Checkbox","color","Button","CircularProgress","progress","Grid","container","item","xs","Link","href","AdapterLink","forwardRef","ref","innerRef","base","get","catch","er","put","delete","match","params","setAuth","visiblePass","setVisiblePass","lastName","role","fetchUser","a","userService","useEffect","to","FormGroup","row","RadioGroup","Radio","sm","disabled","InputProps","endAdornment","onClick","button","leftIcon","marginRight","rightIcon","marginLeft","iconSmall","fontSize","MenuBUttons","buttons","map","index","Icon","link","key","defaultProps","S2R2","gutterBottom","root","minHeight","marginBottom","footer","padding","buttonsProps","Mic","AudioTrack","Person","List","Explore","RecentActors","InsertEmoticon","validateEmpty","recording","skills","stage","obj","_id","Object","values","some","ar","bool","hasCornitivesErrors","hasError","errors","appBar","position","layout","breakpoints","up","stepper","justifyContent","table","minWidth","breakStudent","e","studentA","students","studentB","labels","participants","record","audio","menuButton","search","flexGrow","borderRadius","shape","fade","searchIcon","height","pointerEvents","inputRoot","inputInput","transition","transitions","SearchBar","InputBase","placeholder","input","inputProps","GoBack","align","Transition","Slide","direction","ConfirmDialog","open","handleClose","handleOk","Dialog","TransitionComponent","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","isValidElement","DialogContentText","DialogActions","FormList","arr","handle","student","i","val","Switch","checked","affectivesValues","cognitiveValues","TabPanel","other","hidden","Box","p","TabHoc","content","setStudent","AppBar","Tabs","indicatorColor","textColor","newValue","l","Tab","a11yProps","f","style","arrToObj","reduce","Regulation","fn","cognitive","isLoad","load","useReducer","payload","cognitiveSkills","lookingErrors","itemsArr","dispatch","length","handleChange","tabContent","EMAIL_PATTERN","URL_PATTERN","validations","test","v","comments","image","notesTitle","markDown","Settings","emptyRecording","users","loading","undefined","hasErrors","keys","UserService","prevProps","prevState","LinearProgress","FormControl","InputLabel","background","Select","labelId","MenuItem","textAlign","rows","multiline","card","details","flex","cover","controls","paddingLeft","paddingBottom","playIcon","saveIcon","Recorder","handleSave","title","isRecording","setIsRecording","uploading","setUploading","Blob","blob","setBlob","onSave","Fragment","CardContent","IconButton","aria-label","blobURL","handleCancel","onStop","strokeColor","blue","SaveHanlder","readAndUploadFileAsAudio","recordingId","audioUrl","query","audioName","reader","FileReader","readAsDataURL","resolve","onerror","abort","DOMException","onload","base64AudioMessage","result","split","recordingServices","err","Talking","audioId","callback","updateQuery","deleteQuery","urlAudio","newRecording","handleDelete","RecordingService","TabContainer","Card","onDelete","AudioPlayer","API","alignSelf","overflow","src","emptyAffective","feel","help","socioAffectiveSkills","sa","el","socioAffective","Questions","questions","affectiveTalking","getQuery","v4","Array","isArray","OptionList","Affective","newState","isEmpty","std","getStepContent","step","Create","x","Error","Navigation","back","next","steps","blocked","gobackPerRole","isStudent","neddle","findLabelInCgntVal","pst","filter","k","bftk","cgnVl","Thanks","treatData","TabBody","before_talking","talking","after_talking","feedback","socio_affective","future","GridItem","paddingTop","dense","ListItem","ListItemText","primary","findLabelPerStepWithCgntVal","affectionContent","find","o","constSteps","Checkout","activeStep","setActiveStep","created","wasCreated","setRecording","setSteps","isSaving","saving","enqueueSnackbar","useSnackbar","handleErrors","r","slice","complete","Paper","Stepper","Step","StepLabel","autoHideDuration","forEach","session","history","push","GoToCreate","maxSnack","RecordingList","setData","setMessage","fetchData","recordingService","alert","setAlert","DeleteRow","Table","TableHead","TableRow","TableCell","TableBody","scope","colSpan","upperFirst","date","UserList","PrivateRoute","rest","render","PublicRoute","StudentFooter","reverse","withFormPage","WrappedForm","update","tail","read","readElf","updateElf","readEmotion","updateEmotion","readStr","stg","updateStr","fieldsMapper","useForm","setValues","useCallback","fields","persist","findIndex","isNaN","Number","handleSubmit","ac","cr","Form","options","FormLabel","option","opt","trim","formsService","flexContainer","App","exact","path","MainMenu","PublicRoutes","Login","Register","StrategiesForm","EflForm","EmotionsForm","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c9785b3a.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  \n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\nexport default useStyles","import React, { Component } from 'react'\n\nexport const CURRENT_USER_KEY = 'current-user';\nconst AuthContext = React.createContext(); //* creamos el contexto\n\nclass AuthStore extends Component {\n  state = {\n    //! Set a timer for the user life cycle. \n    user: JSON.parse(localStorage.getItem(CURRENT_USER_KEY) || '{}') //* sacamos al usuario del localstrage. \n  }\n\n  handleUserChange = (user) => {\n    this.setState({ user }); //* guardamos al usuario en el estado. \n    if (user) localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(user)) //* Guardamos al usuario en el localStorage\n    else localStorage.removeItem(CURRENT_USER_KEY) //* Si no viene el usuario, lo quitamos del estado. \n  }\n\n  isAuthenticated = () => this.state.user && this.state.user.data && this.state.user.data.email ? true : false\n\n\n  render() {\n    return (\n      <AuthContext.Provider value={{ \n        //* pasamos los valores al context. \n        user: this.state.user,\n        onUserChange: this.handleUserChange,\n        isAuthenticated: this.isAuthenticated,\n      }}>\n        {this.props.children}\n      </AuthContext.Provider>\n    );\n  }\n}\n\nconst withAuthConsumer = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <AuthContext.Consumer>\n        {(consumerProps) => (<WrappedComponent {...consumerProps} {...props} />)}\n      </AuthContext.Consumer>\n    )\n  }\n}\n\n\n\nexport { AuthStore, AuthContext, withAuthConsumer }\n","import axios from 'axios'\nimport {CURRENT_USER_KEY} from '../contexts/AuthStore'\nconst {NODE_ENV, REACT_APP_API_URL, REACT_APP_DEV_API, REACT_APP_DEV_BASE_URL, REACT_APP_PRO_BASE_URL} = process.env;\nconst isDev = () => NODE_ENV === \"development\";\nconst http = axios.create({\n  baseURL: isDev() ? REACT_APP_DEV_API : REACT_APP_API_URL,\n  withCredentials: true,\n  dataType: 'jsonp',\n});\nhttp.interceptors.response.use(\n  response => response,\n  error => {\n    // ! handle de error sin response(?).\n    if (error.response.status === 403) {\n      localStorage.removeItem(CURRENT_USER_KEY)\n      const baseRoute = isDev() ? REACT_APP_DEV_BASE_URL : REACT_APP_PRO_BASE_URL;\n      window.location.assign(`${baseRoute}/sign-in`);\n    } else {\n      return Promise.reject(error);\n    }\n  }\n)\n\nexport default http;","import http from './BaseServices';\n\nconst register = user =>  http.post('/register', user)\n\nconst authenticate = credentials => http.post(`/signin`, credentials)//.then(r => r.data)\n\nconst logout = () => http.post(`/logout`)\n\nexport default {\n  register,\n  authenticate,\n  logout,\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport useStyles from './../styles/forms'\nimport authService from './../services/AuthServices'\nimport { Redirect } from 'react-router-dom'\nimport { withAuthConsumer } from '../contexts/AuthStore';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// import validations from './misc/Validations'\n\nfunction Signin(props) {\n  const classes = useStyles();\n  const [error, setError] = React.useState('')\n\n  // const [isAuthenticated, setAuth] = React.useState(false)\n  const isAuthenticated = false\n\n  const [user, setUser] = React.useState({email: '',password: ''})\n  const [isLoading, setLoader] = React.useState(false)\n  const handleUser = name => event => setUser({...user, [name]: event.target.value})\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setLoader(true)\n    authService.authenticate(user)\n      .then(\n        (user) => {\n          setLoader(false)\n          props.onUserChange(user); //* actualizamos el context\n        },\n        (error) => {\n          console.log(error);\n          const { response:{data:message} } = error;\n          setError(message.message);\n          setLoader(false);\n        }\n      )\n  }\n  if (isAuthenticated) {\n    return <Redirect to={'/'} />\n  }\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            onChange={handleUser('email')}\n            value={user.email ||''}\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"off\"\n            autoFocus\n            type=\"email\"\n          />\n          <TextField\n            onChange={handleUser('password')}\n            value={user.password ||''}\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"password\"\n            label=\"Password\"\n            name=\"password\"\n            autoComplete=\"off\"\n            type=\"password\"\n          />\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          />\n          { !!error && <div> {error} </div> }\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit} >\n            { \n              !isLoading\n              ? 'Sign In'\n              : <CircularProgress className={classes.progress} color=\"secondary\" />\n            }\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              {/* <Link to=\"/user\" component={AdapterLink}  variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link> */}\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}\n\nexport default withAuthConsumer(Signin)","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n// The usage of React.forwardRef will no longer be required for react-router-dom v6.\n// see https://github.com/ReactTraining/react-router/issues/6056\nconst AdapterLink = React.forwardRef((props, ref) => <Link innerRef={ref} {...props} />);\n\n\nexport default AdapterLink\n","import http from './BaseServices';\nconst base = '/user'\n\n//? can include pagination\nconst getData = () =>\n  http.get(`${base}`)\n    .then(({data})=> data)\n    .catch(er => {\n      return [{\n        error: er.response ? er.response.data.message : er.message\n      }]\n    })\n\nconst update = id => user => http.put(`${base}/${id}`, user).then(({data})=>data)\n\nconst read = id => http.get(`${base}/${id}`).then(({data})=>data);\n\nconst destroy = (id) => http.delete(`${base}/${id}`)\n\nexport default {\n  read,\n  getData,\n  update,\n  destroy,\n}\n","import React, {useState, useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport useStyles from '../styles/forms';\nimport AdapterLink from './misc/Enlace';\nimport authService from '../services/AuthServices';\nimport userService from '../services/Users.Services';\nimport { Redirect } from 'react-router-dom';\nimport { withAuthConsumer } from '../contexts/AuthStore';\n\n\nfunction Signin({match:{params:{id}}}) {\n  const classes = useStyles();\n\n  const [isAuthenticated, setAuth] = useState(false)\n\n  const [error, setError] = React.useState('')\n\n  const [visiblePass, setVisiblePass] = useState(false)\n\n  const [user, setUser] = useState({email: '', password: '', name:'', lastName:'', role: 'student'})\n\n  const fetchUser = async (id) => {\n    const response = await userService.read(id);\n    setUser(response);\n  }\n\n  useEffect(() => {\n    if(id)\n      fetchUser(id)\n  }, [id])\n\n  const handleUser = name => event => setUser({...user, [name]: event.target.value})\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const UserRequest = !!id ?  userService.update(id) : authService.register;\n    UserRequest(user)\n      .then(\n        (user) => setAuth(true),\n        (error) => {\n          const { response:{data:message} } = error;\n          setError(message.message);\n        }\n      )\n  }\n\n  if (isAuthenticated) {\n    return <Redirect to={'/students'} />\n  }\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit} autoComplete=\"off\">\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n             <FormGroup row>\n              <RadioGroup row\n                name={user.role} \n                value={user.role} \n                onChange={handleUser('role')} >\n                <FormControlLabel value={'teacher'} control={<Radio />} label=\"Teacher\" />\n                <FormControlLabel value={'student'} control={<Radio />} label=\"Student\" />\n              </RadioGroup>\n            </FormGroup>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"off\"\n                name=\"name\"\n                onChange={handleUser('name')}\n                value={user.name ||''}\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"First Name\"\n                autoFocus\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                onChange={handleUser('lastName')}\n                value={user.lastName ||''}\n                variant=\"outlined\"\n                fullWidth\n                id=\"lastName\"\n                label=\"Last Name\"\n                name=\"lastName\"\n                autoComplete=\"off\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField \n                disabled={!!id}\n                onChange={handleUser('email')}\n                value={user.email ||''}\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"none\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleUser('password')}\n                value={user.password ||''}\n                variant=\"outlined\"\n                required={!id}\n                fullWidth\n                name=\"password\"\n                label=\"password\"\n                type={visiblePass ? \"text\" : \"password\"}\n                id=\"password\"\n                autoComplete=\"none\"\n                InputProps={{\n                  endAdornment: visiblePass\n                    ? <Visibility onClick={()=>setVisiblePass(false)} />\n                    : <VisibilityOff onClick={()=>setVisiblePass(true)} />\n                 }}\n              />\n            </Grid>\n          </Grid>\n          { !!error && <div> {error} </div> }\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {!!id\n              ? `Update ${user.name}`\n              : `Register a new ${user.role}`\n            }\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href={\"/\"} variant=\"body2\" color={'secondary'}>\n                {'Cancel and go back'}\n              </Link>\n            </Grid>\n            {!id &&\n              <Grid item>\n                <Link to=\"/students\" component={AdapterLink}  variant=\"body2\">\n                  {\"Do you wanna check if the user exist?\"}\n                </Link>\n              </Grid>\n            }\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}\n\nexport default withAuthConsumer(Signin)","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AdapterLink from './Enlace'\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n  leftIcon: {\n    marginRight: theme.spacing(1),\n  },\n  rightIcon: {\n    marginLeft: theme.spacing(1),\n  },\n  iconSmall: {\n    fontSize: 20,\n  },\n}));\n\nexport default function MenuBUttons({buttons}) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      {\n        buttons.map(({label,Icon,link}, index) => (\n          <Button\n            to={link}\n            key={index}\n            component={AdapterLink}\n            variant=\"contained\"\n            color={!index ? \"primary\" : \"default\" }\n            className={classes.button}\n          >\n            {label}\n            <Icon className={classes.rightIcon} />\n          </Button>\n        ))\n      }\n    </div>\n  );\n}\n\nMenuBUttons.defaultProps = {\n  buttons : []\n}","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nconst S2R2 = () => (\n  <Typography variant=\"h3\" component=\"h2\" gutterBottom>\n    S<sup>2</sup>R<sup>2</sup> PROJECT\n  </Typography>\n)\n\nexport default S2R2;","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n  main: {\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    padding: theme.spacing(2),\n    marginTop: 'auto',\n    backgroundColor: 'white',\n  },\n}));\n\nexport default useStyles","import React from 'react';\nimport AdapterLink from './Enlace'\nimport Typography from '@material-ui/core/Typography';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport Link from '@material-ui/core/Link';\n\nfunction UserMenu({user, onUserChange}) {\n  const {data} = user\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\">\n      {`Hello ${data.name}, here you can `}\n      <Link to={`/user/${data.id}/edit`} component={AdapterLink} color={'primary'}>\n        edit your profile\n      </Link>\n      {' or simply  '}\n      <Link to={'/'} onClick={()=> onUserChange()} component={AdapterLink} color={'secondary'}>\n        logout\n      </Link>\n      {' from the site'}\n    </Typography>\n  );\n}\n\nexport default withAuthConsumer(UserMenu)","import Mic from '@material-ui/icons/Mic';\nimport AudioTrack from '@material-ui/icons/Audiotrack';\nimport Person from '@material-ui/icons/Person';\nimport List from '@material-ui/icons/List';\nimport RecentActors from '@material-ui/icons/RecentActors';\nimport InsertEmoticon from '@material-ui/icons/InsertEmoticon';\nimport Explore from '@material-ui/icons/Explore';\n\nexport const buttonsProps = (role) => {\n  return role ==='teacher' \n  ? [\n    {\n      label:  'New Record',\n      Icon: Mic,\n      link: \"/new-record\"\n    },\n    {\n      label:  'Check Recordings',\n      Icon: AudioTrack,\n      link: \"/recordings\"\n    },\n    {\n      label:  'New Student',\n      Icon: Person,\n      link: \"/user\"\n    },\n    {\n      label:  'Check Students',\n      Icon: List,\n      link: \"/students\"\n    }\n  ]\n  : [\n    {\n      label:  'Check sessions',\n      Icon: AudioTrack,\n      link: \"/recordings\"\n    },\n    {\n      label:  'Strategies',\n      Icon: Explore,\n      link: \"/strategies\"\n    },\n    {\n      label:  'EFL Profile',\n      Icon: RecentActors,\n      link: \"/efl\"\n    },\n    {\n      label:  'Emotions',\n      Icon: InsertEmoticon,\n      link: \"/emotions\"\n    },\n  ]\n}\n\nconst hasCornitivesErrors = (skills, stage) => \n  skills\n    .map(obj => delete obj._id && obj) //clean _id prop.\n    .map(obj => Object.values(obj).some(ar => ar[stage]))\n    .some(bool => !bool) //check if one boolean is false\n\nexport const validateEmpty = key => (recording, skills, stage ) => ({\n  ...recording,\n  ...(hasCornitivesErrors(skills, stage)\n    ? { hasError:true,\n        errors: {\n        [key]: 'At least one value should be selected for both students.'\n      }}\n    : { hasError:false, [key]: skills})\n})","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport MenuBUttons from './misc/MenuButtons'\nimport S2R2 from './misc/s2r2'\nimport useStyles from '../styles/mainMenu'\nimport UserMenu from './misc/UserMenu'\nimport { withAuthConsumer } from '../contexts/AuthStore';\nimport {buttonsProps} from '../utils/helpers';\n\n\nfunction MainMenu({user}) {\n  const classes = useStyles();\n  const {data:{role}} = user \n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <Container component=\"main\" className={classes.main} maxWidth=\"sm\">\n        <S2R2 />\n        <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n          {'A simple App for voice recording and speech recognition analysis.'}\n        </Typography>\n        <Typography variant=\"body1\">What do you want to do now?</Typography>\n        <MenuBUttons buttons={buttonsProps(role)} />\n      </Container>\n      <footer className={classes.footer}>\n        <Container maxWidth=\"sm\">\n          <Typography variant=\"body1\">Customization</Typography>\n          <UserMenu />\n        </Container>\n      </footer>\n    </div>\n  );\n}\n\n\n\nexport default withAuthConsumer(MainMenu);","import { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative',\n  },\n  layout: {\n    width: 'auto',\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(900 + theme.spacing(2) * 2)]: {\n      width: 900,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(900 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(6),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(3),\n    },\n  },\n  stepper: {\n    padding: theme.spacing(3, 0, 5),\n  },\n  progress: {\n    margin: theme.spacing(2),\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1),\n  },\n  table: {\n    minWidth: 650,\n  },\n}));\n\nexport default useStyles","import http from './BaseServices';\nconst base = '/recording'\n\nconst breakStudent = e => {\n  return ({\n    ...e,\n    studentA: e.students[0],\n    studentB: e.students[1],\n    labels: e.participants.map(({name}) => name)\n  })\n}\n\n//? can include pagination\nconst getData = () =>\n  http.get(`${base}`)\n    .then(({data})=> data.map(breakStudent))\n    .catch(er => {\n      return [{\n        error: er.response ? er.response.data.message : er.message\n      }]\n    })\n\nconst create = record =>  http.post(base, record).then(({data})=>breakStudent(data))\n\nconst update = (id, record) => http.put(`${base}/${id}`, record).then(({data})=>breakStudent(data))\n\n\nconst singleAudio = (id, audio) => http.put(`${base}/${id}/single`, audio).then(({data})=>breakStudent(data))\n\nconst deleteSingleAudio = (id, audio) => http.put(`${base}/${id}/singleDelete`, audio)\n\nconst deleteAudio = (id, audio) => http.put(`${base}/${id}/delete`, audio)\n\nconst read = id => http.get(`${base}/${id}`).then(({data})=>breakStudent(data));\n\nconst destroy = (id) => http.delete(`${base}/${id}`)\n\nexport default {\n  create,\n  read,\n  getData,\n  update,\n  destroy,\n  singleAudio,\n  deleteSingleAudio,\n  deleteAudio\n}\n","import React from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport { fade, makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  search: {\n    flexGrow: 1,\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginRight: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 120,\n      '&:focus': {\n        width: 200,\n      },\n    },\n  },\n}));\n\nexport default function SearchBar() {\n  const classes = useStyles();\n  return (\n    <div className={classes.search}>\n      <div className={classes.searchIcon}>\n        <SearchIcon />\n      </div>\n      <InputBase\n        placeholder=\"Search\"\n        classes={{\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        }}\n        inputProps={{ 'aria-label': 'search' }}\n      />\n    </div>\n  )\n}","import React from 'react'\nimport AdapterLink from './../misc/Enlace'\nimport Link from '@material-ui/core/Link'\nimport Typography from '@material-ui/core/Typography';\n\nfunction GoBack() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"If you don't wanna be here, \"}\n      <Link component={AdapterLink} to=\"/\" color={'secondary'}>\n        Go back\n      </Link>\n      {' to the main menu.'}\n    </Typography>\n  );\n}\n\nexport default GoBack","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConfirmDialog({open, message, handleClose, handleOk}) {\n  //open could be a callback param for hanlders\n  return (\n      <Dialog\n        open={open ? true : false}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle id=\"alert-dialog-slide-title\">{\"Delete Recording\"}</DialogTitle>\n        <DialogContent>\n          {!React.isValidElement(message) \n          ? <DialogContentText id=\"alert-dialog-slide-description\">\n              {message}\n            </DialogContentText>\n          : message //message can be a component like loader\n          }\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Disagree\n          </Button>\n          <Button onClick={()=>handleOk(open)} color=\"primary\">\n            Agree\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n}\n","import React from 'react'\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport Grid from '@material-ui/core/Grid';\n\nconst FormList = ({arr, obj, handle, student, stage}) => ( // [{...}], {...}, fn(), '...' \n  <FormGroup row>\n    {arr.map((e,i) => {\n      let val = obj[e.key][stage] ? true : false\n      return (\n      <Grid item xs={6} key={i}>\n        <FormControlLabel\n        control={\n          <Switch\n            checked={val}\n            value={val}\n            onChange={handle(e.key, student, stage)}\n            color=\"primary\"\n          />\n        }\n        label={e.label}/>\n      </Grid>\n    )})}\n  </FormGroup>\n)\n\nexport default FormList","export const affectivesValues = [\n  {\n    key:'confident',\n    label: 'Confident',\n    value: false \n  }, \n  {\n    key:'lost',\n    label: 'Lost',\n    value: false \n  }, \n  {\n    key:'nervous',\n    label: 'Nervous',\n    value: false \n  }, \n  {\n    key:'nothing',\n    label: \"I didn't feel anything\",\n    value: false \n  }\n]\nexport const cognitiveValues = [\n    {\n      key : 'startingConversation', \n      label: 'Starting the Conversation',\n      value: [false, false, false]\n    },\n    {\n      key : 'risk',\n      label: 'Take the risk to speak',\n      value: [false, false, false]\n    },\n    {\n      key : 'opinion',\n      label: 'Say my opinion',\n      value: [false, false, false]\n    },\n    {\n      key : 'askClarification',\n      label: \"Ask clarification questions\",\n      value: [false, false, false]\n    },\n    {\n      key : 'provClarification',\n      label: 'Provide clarifications',\n      value: [false, false, false]\n    },\n    {\n      key : 'askExamples',\n      label: \"Ask for examples\",\n      value: [false, false, false]\n    },\n    {\n      key : 'giveExamples',\n      label: 'Give examples',\n      value: [false, false, false]\n    },\n    {\n      key : 'understanding',\n      label: 'Show understanding',\n      value: [false, false, false]\n    },\n    {\n      key : 'eyeContact',\n      label: \"Ask for my partner's opinion\",\n      value: [false, false, false]\n    },\n    {\n      key : 'saySomething',\n      label: 'Encourage myself to say something',\n      value: [false, false, false]\n    },\n    {\n      key : 'filters',\n      label: 'Use fillers',\n      value: [false, false, false]\n    },\n  ]\n\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nexport default function TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};","import React from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport useStyles from '../../styles/forms'\nimport Tabs from '@material-ui/core/Tabs';\nimport AppBar from '@material-ui/core/AppBar';\nimport TabPanel from '../misc/TabPanel'\nimport Grid from '@material-ui/core/Grid';\nimport Tab from '@material-ui/core/Tab';\nconst a11yProps = i => ({ id: `simple-tab-${i}`, 'aria-controls': `simple-tabpanel-${i}`});\n\nconst TabHoc = (Component, labels, content) => {  //* </> [...] [...]\n  const classes = useStyles();\n  const [student, setStudent] = React.useState(0); //Tabs navigation \n  const handleTab = (event, newValue) => setStudent(newValue);\n  return (\n    <Container component=\"main\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <AppBar position=\"static\" color=\"default\" >\n            <Tabs\n              value={student}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              variant=\"fullWidth\"\n              onChange={handleTab}\n            >\n              {labels.map((l, i) => (\n                <Tab key={i} label={l} {...a11yProps(i)}  />\n              ))}\n            </Tabs>\n          </AppBar>\n          {content.map((f, i) => (\n            <TabPanel value={student} index={i} key={i} style={{width:'100%'}}>\n              <Grid container spacing={3}>\n                {/* weird problem with audio recorder */}\n                {i === student && <Component {...f}  index = {i}  />}\n                {/* <Component {...f}  index = {i}/> */}\n              </Grid>\n            </TabPanel>\n          ))}\n        </div>\n    </Container>\n  )\n}\n\nexport default TabHoc","import React from 'react'\nimport FormList from './../misc/FormList'\nimport {cognitiveValues} from '../../utils/cognitiveTest'//arry with keys. \nimport {validateEmpty} from '../../utils/helpers'//arry with keys. \nimport TabHoc from './../misc/TabHoc'\n\nexport const arrToObj = (arr) => arr.reduce((obj, item) => {\n  obj[item.key] = item.value //[,before, after]\n  return obj\n}, {})\n\nconst Regulation = ({recording, fn, stage}) => {\n  const {cognitive, labels} =  recording; //[{},{}]\n  const [isLoad, load] = React.useState(false)\n\n  const [itemsArr, dispatch] = React.useReducer((state, {type, payload})=>{\n    let cognitiveSkills = null\n    switch (type){\n      case 0: //student A\n        cognitiveSkills = [{...state[0], ...payload }, state[1]]\n        break\n      case 1: //student B\n        cognitiveSkills = [state[0],{...state[1], ...payload }]\n        break\n      case 'fill':\n        cognitiveSkills = payload //from  parent. \n        load(true)\n        break\n      case 'preFill':\n        cognitiveSkills = state //everything is false, forcing the error\n        break\n      default:\n        cognitiveSkills = state;\n    }\n    //update the recording from the parent. \n    const lookingErrors = validateEmpty('cognitive')(recording, cognitiveSkills, stage);\n    console.log(lookingErrors)\n    fn(lookingErrors);\n    return cognitiveSkills;\n  }, [arrToObj(cognitiveValues), arrToObj(cognitiveValues)]); // [{...studentA}, {...studentB}] \n  \n  React.useEffect(()=>{ //!test \n    if(cognitive && cognitive.length && !isLoad){\n      dispatch({type: 'fill', payload: cognitive})\n    } else {\n      dispatch({type: 'preFill', payload: []})\n    }\n  }, [cognitive, isLoad])\n\n  const handleChange = (key, student) => event => {\n    dispatch({\n      type: student,\n      payload:{\n        [key]:itemsArr[student][key].map((e, i)=>i===stage ? !e : e)\n      }});\n  };\n\n  const tabContent = [\n    {student:0, obj:itemsArr[0], handle:handleChange, arr: cognitiveValues, stage},\n    {student:1, obj:itemsArr[1], handle:handleChange, arr: cognitiveValues, stage},\n  ];\n  return TabHoc(FormList, labels, tabContent)\n}\n\nexport default Regulation //4 renders... \n\n","// eslint-disable-next-line \nconst EMAIL_PATTERN = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n// eslint-disable-next-line \nconst URL_PATTERN = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\n\nconst validations = {\n  email: (value) => {\n    let message;\n    if (!value) {\n      message = 'Email is required';\n    } else if (!EMAIL_PATTERN.test(value)) {\n      message = 'Invalid email pattern';\n    }\n    return message;\n  },\n  name: (value) => {\n    let message;\n    if (!value || value.length < 3) {\n      message = 'Name is required';\n    } \n    return message;\n  },\n  \n  studentA: (v) => {\n    let message;\n    if(!v || v.length < 3){\n      message = 'The first student is required'\n    }\n    return message;\n  },\n  studentB: (v) => {\n    let message;\n    if(!v || v.length < 3){\n      message = 'The second student is required'\n    }\n    return message;\n  },\n\n  comments: (value) => {\n    let message;\n    if (value.length > 140 ) {\n      message = 'Just a tweet... no more than 140 characters';\n    } \n    return message;\n  },\n  password: (value) => {\n    let message;\n    if (!value || value.length < 3) {\n      message = 'Password is required';\n    }\n    return message;\n  }, \n  // birthDate: (value) => {\n  //   let message;\n  //   let isValidDate = Date.parse(value);\n  //   if (isNaN(isValidDate)) {\n  //     message = 'Date Format is invalid';\n  //   }\n  //   return message;\n  // },\n  image: (value) => {\n    let message;\n    if (!URL_PATTERN.test(value)) {\n      message = 'Invalid Url Pattern';\n    }\n    return message;\n  }, \n  notesTitle: (value) => {\n    let message;\n    if (!value) {\n      message = 'We need a title for your Notes x';\n    }\n    return message;\n  }, \n  markDown: (value) => {\n    let message;\n    if (!value || value.length < 140) {\n      message = 'Give me at least a tweet!!';\n    }\n    return message;\n  }, \n\n}\n\nexport default validations","import React from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport validations from './../../utils/validations'; //{...}\nimport UserService from '../../services/Users.Services';\nimport { emptyRecording } from './Checkout';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nclass Settings extends React.Component { //update to hooks. \n  state = {\n    content : this.props.recording.id ? this.props.recording : emptyRecording,\n    users: [],\n    loading: true,\n    errors: {\n      name: this.props.recording.name ? undefined : validations.name(),\n      studentA: this.props.recording.studentA ? undefined : validations.studentA(),\n      studentB: this.props.recording.studentB ? undefined : validations.studentB(),\n    }\n  }\n\n  componentDidMount() {\n    UserService.getData()\n      .then(users => {\n        this.setState({users, loading:false});\n      })\n  }\n\n  hasErrors = () => {\n    const { content } = this.state;\n    return Object.keys(content)\n      .some(name => {\n        let value = content[name];\n        return validations[name] && validations[name](value)\n      })\n  }\n\n  componentDidUpdate(prevProps, prevState) { // TODO: testing!\n    if(this.props.recording.id !== prevProps.recording.id) { //handling server response. \n      this.setState({content:this.props.recording, errors:{}}) // fill&clean\n    }\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    const {content, errors} = this.state;\n    this.setState({\n      content: {\n        ...content,\n        [name]: value\n      },\n      errors: {\n        ...errors,\n        [name]: validations[name] && validations[name](value)\n      }\n    }, () => {\n      const {content, errors} = this.state; \n      ! this.hasErrors() //if doesn't have errors. \n      ? this.props.fn({...content, students : [content.studentA, content.studentB]})\n      : this.props.fn({...content, hasError: true, errors}) //should be removed this key?\n    })\n  }\n\n  render () {\n    const {content, users, loading} = this.state;\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n      <div >\n        {/* <form  noValidate> */}\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                onChange={this.handleChange}\n                value={content.name}\n                error={this.state.errors.name ? true : false}\n                variant=\"outlined\"\n                fullWidth\n                id=\"name\"\n                name=\"name\"\n                label=\"Recording Name\"\n                autoComplete=\"fname\"\n              />\n            </Grid>\n            { !!loading ? <LinearProgress /> :\n              !users.length ? <div style={{textAlign:'center'}}> First, please add some users </div> :\n            <>\n            <Grid item xs={12} sm={6}>\n              <FormControl variant=\"outlined\" fullWidth>\n                <InputLabel id=\"studentA-label\" style={{background:'#fff'}}>\n                  First Student\n                </InputLabel>\n                <Select\n                  labelId=\"studentA-label\"\n                  id=\"studentA\"\n                  name=\"studentA\"\n                  value={content.studentA}\n                  onChange={this.handleChange}\n                  label=\"First Student\"\n                  required\n                >\n                  {users.map(({id, name, lastName}) =>\n                    <MenuItem key={id} value={id} >{`${name} ${lastName}`}</MenuItem>\n                  )}\n\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <FormControl variant=\"outlined\" fullWidth>\n                <InputLabel id=\"studentB-label\" style={{background:'#fff'}}>Second Student</InputLabel>\n                <Select\n                  labelId=\"studentB-label\"\n                  id=\"studentB\"\n                  name=\"studentB\"\n                  value={content.studentB }\n                  onChange={this.handleChange}\n                  label=\"Second Student\"\n                  required\n                >\n                  {users.map(({id, name, lastName}) =>\n                    <MenuItem key={id} value={id} >{`${name} ${lastName}`}</MenuItem>\n                  )}\n                </Select>\n              </FormControl>\n            </Grid>\n            </>\n            }\n            <Grid item xs={12}>\n              <TextField\n                onChange={this.handleChange}\n                value={content.comments}\n                variant=\"outlined\"\n                fullWidth\n                id=\"comments\"\n                label=\"Some extra comments\"\n                name=\"comments\"\n                rows = \"4\"\n                multiline={true}\n                autoComplete=\"fcomments\"\n              />\n            </Grid>\n          </Grid>\n        {/* </form> */}\n      </div>\n    </Container>\n    );\n  }\n}\n\nexport default Settings","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    display: 'flex',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  cover: {\n    backgroundColor: '#1565c0',\n    width: 160,\n    display: 'flex',\n    justifyContent:'flex-end',\n    flexDirection:'column'\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  playIcon: {\n    height: 38,\n    width: 38,\n  },\n  saveIcon: {\n    // height: 76,\n    // width: 76,\n    margin:'auto',\n    color:'#fff'\n  },\n}));\n\nexport default useStyles","import React, {useState} from 'react'\nimport useStyles from './../../styles/recorderStyles';\nimport { ReactMic } from 'react-mic';\nimport blue from '@material-ui/core/colors/blue';\n// import Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Stop from '@material-ui/icons/MicOff';\n// import Eq from '@material-ui/icons/GraphicEq';\nimport Save from '@material-ui/icons/Save';\nimport Delete from '@material-ui/icons/Delete';\nimport Mic from '@material-ui/icons/Mic';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default function Recorder({handleSave, title}) {\n  const classes = useStyles();\n  const [isRecording, setIsRecording] = useState(false)\n  const [uploading, setUploading] = useState(false)\n  const [blob, setBlob] = useState(new Blob())\n\n  const onSave = async () => {\n    setUploading(true)\n    await handleSave(blob)\n    setUploading(false)\n  }\n\n  const handleCancel = ()=> setBlob(new Blob())\n\n  // const handlePreview = () => {\n  //   const tmp = new Audio(blob.blobURL);\n  //   tmp.play()\n  // };\n\n  return (\n    <React.Fragment>\n      <div className={classes.details}>\n        <CardContent className={classes.content}>\n          <Typography component=\"h5\" variant=\"h5\"> {title} </Typography>\n        </CardContent>\n        <div className={classes.controls}>\n          <IconButton onClick={() => setIsRecording(!isRecording)}  aria-label=\"play/pause\">\n            { ! isRecording\n              ? <Mic className={classes.playIcon} />\n              : <Stop className={classes.playIcon} />}\n          </IconButton>\n          {/* <IconButton aria-label=\"previous\" onClick={handlePreview} disabled={blob.blobURL ? false : true} >\n            <Eq className={classes.playIcon} />\n          </IconButton> */}\n        </div>\n      </div>\n      { !!blob.blobURL //is there is not BloUrl\n        ? <SaveHanlder {...{onSave, uploading, handleCancel, classes}} />\n        : <ReactMic\n            className={classes.cover} //sound-wave\n            record={isRecording} //Boolean\n            onStop={setBlob}\n            strokeColor=\"#ffffff\"\n            backgroundColor={blue[800]} />\n      }\n    </React.Fragment>\n  );\n}\n\nconst SaveHanlder = ({onSave, uploading, handleCancel, classes}) => {\n  return (\n    <div className={classes.cover}>\n      <div className={classes.saveIcon} >\n        <IconButton  onClick={onSave} aria-label=\"previous\" >\n          { ! uploading\n            ? <Save   className={classes.saveIcon} />\n            : <CircularProgress className={classes.progress} />}\n        </IconButton>\n        <IconButton onClick={handleCancel} aria-label=\"previous\" >\n          <Delete  />\n        </IconButton>\n      </div>\n    </div>\n  )\n}","import recordingServices from '../services/recordingServices'\n\nconst readAndUploadFileAsAudio = (recordingId, {query, audioName}, audioUrl) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(audioUrl);\n  return new Promise((resolve, reject)=>{\n    reader.onerror = () => {\n      reader.abort()\n      reject(new DOMException('Problem parsing file'))\n    }\n    reader.onload = async () => {\n      const base64AudioMessage = reader.result.split(',')[1];\n\n      const formBody = {\n        query,\n        audioName,\n        audio: base64AudioMessage,\n      }\n\n      recordingServices.singleAudio(recordingId, formBody)\n        .then( response =>{\n          resolve(response) //*returned value\n        }, err => {\n          console.error('Invalid status saving audio message: ' + err.status)\n          reject(err)\n        }\n        )\n    };\n  })\n}\nexport default readAndUploadFileAsAudio","import React from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Recorder from './../misc/Recorder'\nimport './../../styles/player.css';\nimport ReactH5AudioPlayer from \"react-h5-audio-player\";\nimport readAndUploadFileAsAudio from '../../utils/audioFile'\nimport Delete from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport Card from '@material-ui/core/Card';\nimport RecordingService from './../../services/recordingServices'\nconst {NODE_ENV, REACT_APP_API_URL, REACT_APP_DEV_API} = process.env;\n\nexport default function Talking ({recording, audioId, title, callback, updateQuery, deleteQuery, error}) {\n\n  const handleSave = async (urlAudio) => {\n    try {\n      console.log(updateQuery)\n      const newRecording = await readAndUploadFileAsAudio(recording.id, updateQuery, urlAudio)\n      callback && callback(newRecording)\n      return true\n    } catch (e) {\n      console.log(e);\n      return false\n    }\n  }\n\n  const handleDelete = async () => {\n    RecordingService.deleteSingleAudio(\n        recording.id,\n        {\n          audioName: audioId,\n          query:deleteQuery\n        }\n      )\n      .then(\n        callback(error),\n        (error)=>{\n          console.error(error)\n        })\n      .catch(console.error)\n  }\n\n  return <TabContainer {...{handleSave, handleDelete, audioId}} title={title}/>\n}\n/**\n * wrapper the recording & player\n * @param {handleSave, student, audios} props callback, idtab, array\n */\nconst TabContainer = ({handleSave, handleDelete, audioId, title}) => (\n    <Container component=\"main\">\n    <CssBaseline />\n    <Card style={{display:'flex', height:'100%'}}>\n        <Recorder handleSave={({blob})=>handleSave(blob)} title={title}/>\n        <AudioPlayer onDelete={handleDelete} audioId={audioId} />\n      </Card>\n    </Container>\n  )\n\nexport const AudioPlayer = ({audioId, onDelete}) => {\n  const API = NODE_ENV === \"development\" ? REACT_APP_DEV_API : REACT_APP_API_URL;\n  return !!audioId &&\n    <div style={{width:'100%', alignSelf: 'center', overflow:'scroll'}}>\n        <div style={{display:'flex'}}>\n\n          <ReactH5AudioPlayer src={`${API}/messages/${audioId}`} />\n\n          {onDelete &&\n          <IconButton style={{margin:'.5em 0'}}\n              onClick={onDelete}\n              aria-label=\"delete audio\" >\n            <Delete  />\n          </IconButton>}\n        </div>\n    </div>\n}","import React from 'react'\nimport TabHoc from './../misc/TabHoc'\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport {affectivesValues} from '../../utils/cognitiveTest'\nimport Grid from '@material-ui/core/Grid';\nimport Talking from './Talking'\nimport { v4 } from 'uuid';\nimport {isEmpty, flattenDeep} from 'lodash'\n\nconst emptyAffective = [\n  {feel: '', help : undefined, audioId: undefined},\n  {feel: '', help: undefined, audioId: undefined}\n]\n\nconst hasCornitivesErrors = (state) => {\n  return state\n    .map(sa => Object.values(sa).some(el => el === undefined || el === ''))\n    .some(e => !!(e))\n}\nconst validateEmpty = (recording, socioAffectiveSkills, stage ) => ({\n  ...recording,\n  ...(hasCornitivesErrors(socioAffectiveSkills) \n    ? { hasError:true, \n        errors: {\n        socioAffective: 'At least one value should be selected for both students.'\n      }}\n    : { hasError:false, socioAffective: socioAffectiveSkills})\n}) \n\nconst Affective = ({recording, fn}) => {\n  const {socioAffective, labels} =  recording; //[{},{}]\n  // const [isLoad, load] = React.useState(false)\n  const [itemsArr, dispatch] = React.useReducer((state, {type, payload}) => {\n    let newState = null\n    switch (type){\n      case 'A':\n        newState = [{...state[0], ...payload }, state[1]]\n        break\n      case 'B': \n        newState = [state[0],{...state[1], ...payload }]\n        break\n      case 'fill': \n        newState = payload //from  parent. \n        // load(true)\n        break\n      case 'delete': \n        newState = payload.audioId;\n        break\n      default:\n        newState = state;\n    }\n     //update the recording from the parent. \n    const lookingErrors = validateEmpty(recording, newState, payload);\n    fn(lookingErrors);\n    return newState;\n  }, !isEmpty(socioAffective) ? socioAffective : emptyAffective); // [{...studentA}, {...studentB}] \n\n  React.useEffect(()=>{ //!test \n    dispatch({\n      type: 'fill',\n      payload: !isEmpty(socioAffective) ? socioAffective : emptyAffective\n    })\n  }, [])\n\n  const handleChange = (event, student, type) => {\n    const name = event.target.value;\n    dispatch({\n      type: student,\n      payload : {\n        [type]: type === 'help'\n          ? name === 'yes' //help value can only be yes or no\n          : name\n      }\n    })\n  }\n\n  const questions = {\n    feel: 'How did you feel when using strategies?',\n    help: 'Did they help you to talk to your partner?'\n  }\n  const tabContent = recording.students.map((std, i) => ({\n    questions,\n    feel : {\n      arr: affectivesValues,\n      student:!!i?'B':'A',\n      value: itemsArr[i] && itemsArr[i].feel,\n    },\n    handle: handleChange,\n    help: {\n      value: itemsArr[i] && typeof itemsArr[i].help !== \"undefined\" && (itemsArr[i].help ? 'yes' : 'no'),\n    },\n    callback: fn,\n    data: {...recording, socioAffective: itemsArr}\n  }));\n  return TabHoc(Questions, labels, tabContent)\n}\n\nconst Questions = ({ questions, feel, handle, help, callback, data, index}) =>{\n  console.log(data)\n  return (\n    <>\n      <Grid container spacing={2}>\n          <Grid item xs={12} sm={6}>\n          <h3>{questions.feel}</h3>\n          <OptionList {...{...feel, handle}}/>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <h3>{questions.help}</h3>\n          <FormGroup row>\n            <RadioGroup \n              name={feel.student} \n              value={help.value} \n              onChange={(e)=> handle(e, feel.student, 'help')} >\n              <FormControlLabel value='yes' control={<Radio />} label=\"Yes, they did\" />\n              <FormControlLabel value='no' control={<Radio />} label=\"No, they didn't\" />\n            </RadioGroup>\n          </FormGroup>\n        </Grid>\n      </Grid>\n      <Grid >\n        <FormGroup row>\n            <Talking\n              recording={data}\n              {...affectiveTalking(data, index, handle)}\n            />\n          </FormGroup>\n      </Grid>\n    </>\n  )\n}\n\nconst affectiveTalking = (data, index, handle) => {\n  const getQuery = (i, audioName) => {\n    const {socioAffective} = data;\n    return {\n      audioName,\n      query: {\n        socioAffective : !!i\n        // Student B\n        ? [socioAffective[0], {...socioAffective[1], ...{audioId:audioName} }]\n        // Student A\n        : [{...socioAffective[0], ...{audioId:audioName} }, socioAffective[1]]\n      },\n    }\n  }\n\n  return {\n    audioId: data.socioAffective.length && data.socioAffective[index] && data.socioAffective[index].audioId,\n    title: `Feedback: \\n ${data.labels[index]}`,\n    error : {...data, socioAffective: {}, hasError: false, errors:{}},\n    updateQuery: getQuery(index, v4()),\n    deleteQuery: data.socioAffective.length && data.socioAffective[index] && getQuery(index, data.socioAffective[index].audioId),\n    callback: ({socioAffective}) => {\n      const {audioId} = Array.isArray(socioAffective) && socioAffective[index];\n      const studentAorB = !!index?'B':'A';\n      handle(\n        { target: { value: !audioId ? emptyAffective : audioId } },\n        !audioId ? 'delete' : studentAorB,\n        'audioId'\n      )\n    },\n  }\n}\n\nconst OptionList = ({arr, value, handle, student}) => (\n  <FormGroup row>\n    <RadioGroup name={student} value={value} onChange={(e)=>handle(e, student, 'feel')}>\n      {arr.map( (e, i) => (\n        <FormControlLabel key={i} value={e.key} control={<Radio />} label={e.label} />\n      ))}\n    </RadioGroup>\n  </FormGroup>\n)\n\nexport default Affective\n","import React from 'react'\nimport Regulation from './Regulation'\nimport Create from './Create'\nimport Talking from './Talking'\nimport Affective from './Affective'\nimport { v4 } from 'uuid';\n\nfunction getStepContent(step, callback, data) {\n  switch (step) {\n    case 0: //* Create\n      return <Create fn={callback} recording={data}/>;\n    case 1: //* Before talking\n      return <Regulation stage={0} fn={callback} recording={data}/>;\n    case 2: //* Talking\n      const audioId = v4();\n      return <Talking \n                callback={newRecording => {\n                  if(newRecording.audioId === '') {\n                    callback(newRecording)\n                  }else {\n                    callback({...newRecording, hasError:false, errors:{}})\n                  }\n                }}\n                audioId={data.audioId}\n                recording={data}\n                title={data.name}\n                updateQuery={{query:{audioId}, audioName: audioId}}\n                deleteQuery={{query:{audioId:''}, audioName: data.audioId}}\n                error = {{...data, audioId:'', hasError: true, errors:{x:'We need an audio recording'}}}\n              />;\n    case 3: //* After talking\n      return <Regulation stage={1} fn={callback} recording={data}/>;\n    case 4: //* Socio Afective\n      return data.students && <Affective fn={callback} recording={data}/>;\n    case 5: //* Future\n      return <Regulation stage={2} fn={callback} recording={data}/>;\n    default:\n      throw new Error('Unknown step');\n  }\n}\n\nexport default getStepContent","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\n\nconst Navigation = ({step, classes, back, next, steps, blocked, isStudent}) => {\n  const gobackPerRole = isStudent ? step > 1   : !!step\n  return (\n    <div className={classes.buttons}>\n      { gobackPerRole && (\n        <Button onClick={back} className={classes.button}>\n          Back\n        </Button>\n      )}\n      <Button\n        disabled={blocked} //if the recording object is empty. \n        variant=\"contained\"\n        color=\"primary\"\n        onClick={next}\n        className={classes.button}>\n        {step === steps.length - 1 ? 'Resume' : 'Next'}\n      </Button>\n    </div> \n)}\n\nexport default Navigation","import {affectivesValues} from './cognitiveTest'\nexport function desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nexport function stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nexport function getSorting(order, orderBy) {\n  return order === 'desc' ? (a, b) => desc(a, b, orderBy) : (a, b) => -desc(a, b, orderBy);\n}\n\nexport const findLabel = neddle => (values, i) => pst => \n  Object.keys(values[i])\n    .filter(k => Array.isArray(values[i][k]))\n    .filter(k => values[i][k][pst])\n    .map(bftk => neddle\n      .filter(cgnVl => cgnVl.key === bftk)\n      .map(obj => obj.label)\n    )\n\nexport const findAffective = neddle => (values, i) => pst => \n  Object.keys(values[i])\n    .filter(k => k!=='_id')\n    .map(bftk => affectivesValues\n      .filter(cgnVl => cgnVl.key === bftk)\n      .map(obj => obj.label)\n    )","import React from 'react'\nimport Typography from '@material-ui/core/Typography';\nimport TabHoc from './../misc/TabHoc'\nimport {cognitiveValues, affectivesValues} from './../../utils/cognitiveTest'\nimport {findLabel} from './../../utils/handlingData'\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport {AudioPlayer} from './Talking'\nconst findLabelInCgntVal = findLabel(cognitiveValues)\n// const findLabelInAffectVal = findLabel(affectivesValues)\n\nconst Thanks = ({data}) => {\n  const {name, labels} =  data; //[{},{}] \n  const tabContent = treatData(data)\n  return (\n    <React.Fragment>\n      <Typography variant=\"h5\" gutterBottom>\n        {`Thank you for your participation in ${name}.`}\n      </Typography>\n      <Typography variant=\"subtitle1\">\n        Here you will see all your inputs and have a discussion with your teacher and partner\n      </Typography>\n      {TabHoc(TabBody, labels, tabContent)}\n    </React.Fragment>\n  )\n}\nexport default Thanks\n\nconst TabBody = ({before_talking, talking, help, after_talking, feedback, socio_affective, future}) => (\n  <Container >\n  <Grid container >\n    <GridItem data={before_talking} />\n    <Grid item xs={12} >\n      <h3 style={{marginBottom:0}}>{talking.label}</h3>\n      <AudioPlayer audioId={talking.content} />\n    </Grid>\n    <GridItem data={after_talking} />\n    <GridItem data={socio_affective} />\n    <GridItem data={help} />\n    { !!feedback.content &&\n      <Grid item xs={12} >\n        <h3 style={{marginBottom:0}}>{feedback.label}</h3>\n        <AudioPlayer audioId={feedback.content} />\n      </Grid>\n    }\n    <GridItem data={future} />\n  </Grid>\n  </Container>\n)\n\nconst GridItem = ({data:{label, content}}) => (\n  <Grid item xs={12} >\n    <h3 style={{marginBottom:0}}>{label}</h3>\n    <List style={{paddingTop:0}} dense>\n      {content.map((e, i) => !!e && \n        <ListItem key={i}>\n          <ListItemText primary={e}/>\n        </ListItem>,\n      )}\n    </List>\n  </Grid>\n)\n\nconst treatData = (data) => \n  data.students.map((std, i) => {\n    let findLabelPerStepWithCgntVal = findLabelInCgntVal(data.cognitive, i)\n    let {feel, audioId} = Array.isArray(data.socioAffective) && !!(data.socioAffective.length)\n      ? data.socioAffective[i]\n      : {};\n    const affectionContent = affectivesValues.find(o => o.key === feel);\n    return {\n      before_talking: {\n        label: 'The strategies you chose before talking ',\n        content: findLabelPerStepWithCgntVal(0)\n      },\n      talking: {\n        label: \"Let's play your recording \",\n        content: data.audioId\n      }, \n      after_talking : {\n        label: 'The strategies you really applied',\n        content: findLabelPerStepWithCgntVal(1)\n      },\n      socio_affective : {\n        label: 'How did you feel when using strategies?',\n        content: [affectionContent && affectionContent.label]\n      },\n      help : {\n        label: 'Did they help you to talk to your partner?',\n        content: !!data.socioAffective[0].help\n          ? ['Yes, they did']\n          : [\"No, they didn't\"]\n      },\n      feedback: {\n        label: 'Some feedback',\n        content: audioId,\n      },\n      future: {\n        label: 'What is the plan for the next time?',\n        content: findLabelPerStepWithCgntVal(2)\n      }\n    }\n  })","import React from 'react';\nimport useStyles from '../../styles/stepForm'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\nimport getStepContent from './getStepContent'\nimport Navigation from '../misc/Navigation'\nimport GoBack from '../misc/GoBack'\nimport Thanks from './Thanks'\nimport AdapterLink from '../misc/Enlace'\nimport Link from '@material-ui/core/Link'\nimport recordingServices from '../../services/recordingServices'\nimport { SnackbarProvider, useSnackbar } from 'notistack';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { withAuthConsumer } from './../../contexts/AuthStore';\n\nexport const emptyRecording = {id:'',name: '',comments: '', studentA: '', studentB:  '',} //? should be an exteranl object. More complete\nconst constSteps = ['Set-Up', 'Before talking', 'Talking', 'After talking', 'How about you?', 'Future Recordings']\n\nfunction Checkout(props) {\n  const classes = useStyles();\n  const id = props.match.params.id;\n  const isStudent = props.user.data.role === 'student';\n  const [activeStep, setActiveStep] = React.useState(isStudent ? 1 : 0); //*\n  const [created, wasCreated] =  React.useState(false);\n  const [recording, setRecording] = React.useState({})\n  const [steps, setSteps] = React.useState(constSteps)\n  const [loading, setLoader] = React.useState(true)\n  const [isSaving, saving] = React.useState(false)\n  const { enqueueSnackbar } = useSnackbar(); // \n\n  const handleErrors = (error) => enqueueSnackbar(error, {variant : 'warning'});\n\n  React.useEffect(() => { //? async & await \n    if (id){ //edit page\n      recordingServices.read(id)\n        .then(r => {\n          setSteps([r.name, ...constSteps.slice(1, constSteps.length)]);\n          setRecording(r);\n          wasCreated(true);\n          setLoader(false);\n          if(!!r.complete)\n            setActiveStep(steps.length)\n        })\n    } else { \n      setLoader(false)\n      setRecording(emptyRecording)\n      setSteps(constSteps)\n      wasCreated(false)\n    }\n  }, [id, steps.length])\n\n  const handleNext = () => {\n    //* if the recording obj comes with an error key, it wont proceed. \n    if(recording.hasError) {\n      Object.values(recording.errors).forEach(e => e && handleErrors(e))\n      return\n    }\n    enqueueSnackbar('Saving...', {variant : 'success', autoHideDuration: 800,})\n    if(activeStep === 0 && !created) { // * Create the new record in the backend.\n      saving(true);\n      recordingServices.create(recording).then(\n        (data) => { // * If everything goes well\n          wasCreated(true)// ? change Create status\n          setRecording(data)// ? update the recording into the checkout component.\n          props.history.push(`/record/${data.id}`);//?change the route\n          setActiveStep(activeStep + 1)// ? go to the next page\n          saving(false);\n        },\n        (error) => {\n          if(error.response) {\n            saving(false);\n            handleErrors(error.response.data.message)\n          } else {\n            console.error(error)\n          }\n        }\n      )\n    } else if(created) { //* update content\n      //session is a variable that can be set as a middleware. And before going to the back, set custom variables.\n      const session = activeStep + 1 < steps.length ? {...recording} : {...recording, complete:true}\n      recordingServices.update(id, session).then(\n        (data) => { // \n          setRecording(data) //? do i need to update it ?\n          setSteps([data.name, ...constSteps.slice(1, constSteps.length)])\n          setActiveStep(activeStep + 1)\n        },\n        (error) => {\n          if(error.response) {\n            handleErrors(error.response.data.message)\n          } else {\n            console.error(error)\n          }\n        }\n      )\n    }\n  };\n\n  const handleBack = () => {\n    enqueueSnackbar('Okey, we wont save that...', {autoHideDuration: 1000,})\n    setRecording({...recording, hasError:false, errors:{}}) //clean possible errors\n    setActiveStep(activeStep - 1)\n  };\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <main className={classes.layout}>\n        <Paper className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n            {steps[activeStep]}\n          </Typography>\n          <Stepper activeStep={activeStep} className={classes.stepper}>\n            {steps.map(label => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <React.Fragment>\n            { activeStep === steps.length\n              ? <Thanks data={recording} /> //last element.\n              : <React.Fragment>\n                  {\n                    loading\n                    ? <LinearProgress />\n                    : getStepContent(activeStep, setRecording, recording)\n                  }\n                  <Navigation\n                  steps={steps}\n                  isStudent={isStudent}\n                  blocked = {isSaving}\n                  step={activeStep} classes={classes}\n                  back={handleBack} next={handleNext} />\n                </React.Fragment>\n            }\n          </React.Fragment>\n        </Paper>\n        {!isStudent && id && activeStep < 1  && <GoToCreate/>}\n        <GoBack />\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport function GoToCreate() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"This is not what you are looking for?, \"}\n      <Link color=\"primary\" component={AdapterLink} to=\"/new-record\" >\n        Click here\n      </Link>\n      {', and Go to create a new recording.'}\n    </Typography>\n  );\n}\n\nfunction IntegrationNotistack(props) {\n  return (\n    <SnackbarProvider maxSnack={3}>\n      <Checkout {...props}/>\n    </SnackbarProvider>\n  );\n}\n\nexport default withAuthConsumer(IntegrationNotistack)","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport useStyles from '../styles/stepForm'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport recordingService from '../services/recordingServices'\nimport AdapterLink from './misc/Enlace'\nimport SearchBar from './misc/SearchBar'\nimport {upperFirst} from 'lodash'\nimport GoBack from './misc/GoBack'\nimport Link from '@material-ui/core/Link'\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Delete from '@material-ui/icons/DeleteOutline';\nimport ConfirmDialog from './misc/Dialog'\n\n// import queryString from 'query-string';\nimport {GoToCreate} from './recordings/Checkout'\n// import {desc, stableSort, getSroting} from '../utils/handlingData'\n\nexport default function RecordingList() {\n  const classes = useStyles();\n  // const querySearch = queryString.parse(this.props.location.search)\n\n  const [data, setData] = React.useState([])\n  const [isLoading, setLoader] = React.useState(false)\n  const [message, setMessage] = React.useState('This action can not be undone.')\n  const fetchData = async () => {\n    const response = await recordingService.getData();\n    setData(response)\n  }\n\n  const [alert, setAlert] = React.useState(false)\n\n  const DeleteRow = async (id) => {\n    setLoader(true)\n    recordingService.destroy(id).then(()=>{\n      fetchData()\n      setLoader(false)\n      setAlert(false)\n    },\n    (error)=>{\n      setLoader(false)\n      setMessage('Ups, we have an error trying to delete the file. Contact with the admin')\n      console.log(error)\n    })\n  }\n\n  React.useEffect(()=>{fetchData()}, [])\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <main className={classes.layout}>\n        <Paper className={classes.paper}>\n        <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n          {'Recordings'}\n        </Typography>\n        <SearchBar />\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell align=\"right\">student&nbsp;A</TableCell>\n              <TableCell align=\"right\">student&nbsp;B</TableCell>\n              <TableCell align=\"right\">Date</TableCell>\n              <TableCell align=\"right\">Delete</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            { ! data.length\n              ? <TableRow >\n                  <TableCell colSpan={5}>\n                    <LinearProgress />\n                  </TableCell>\n                </TableRow>\n              : data.map((row, index) => (\n                  <TableRow key={index}>\n                    {row.error \n                    ? <TableCell scope=\"row\" component={'th'} colSpan={5}>{row.error}</TableCell>\n                    : <>\n                        <TableCell scope=\"row\" component={'th'}>\n                          <Link color=\"inherit\" component={AdapterLink} to={`/record/${row.id}/checkout`}>\n                            {upperFirst(row.name)}\n                          </Link>\n                        </TableCell>\n                        <TableCell align=\"right\">{row.studentA}</TableCell>\n                        <TableCell align=\"right\">{row.studentB}</TableCell>\n                        {!!row.date && <TableCell align=\"right\">{row.date.split(\"T\")[0]}</TableCell>}\n                        <TableCell align=\"right\">\n                          <Delete onClick={()=>setAlert(row.id)}  />\n                        </TableCell>\n                      </>\n                    }\n                  </TableRow>\n                ))}\n          </TableBody>\n        </Table>\n      </Paper>\n      <GoToCreate/>\n      <GoBack />\n      </main>\n      <ConfirmDialog \n        open={alert} \n        handleClose={()=>setAlert(false)}\n        handleOk={DeleteRow} \n        title={'Are you sure?'}\n        message={isLoading\n          ? <LinearProgress />\n          : message\n        }/>\n    </React.Fragment>\n\n  );\n}","\nimport React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport useStyles from '../styles/stepForm'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport userService from '../services/Users.Services'\nimport AdapterLink from './misc/Enlace'\nimport SearchBar from './misc/SearchBar'\nimport {upperFirst} from 'lodash'\nimport GoBack from './misc/GoBack'\nimport Link from '@material-ui/core/Link'\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Delete from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/EditOutlined';\nimport ConfirmDialog from './misc/Dialog'\n\nimport {GoToCreate} from './recordings/Checkout'\n\nexport default function UserList() {\n  const classes = useStyles();\n  // ! all this should come from a hook\n  const [data, setData] = React.useState([])\n  const [isLoading, setLoader] = React.useState(false)\n  const [message, setMessage] = React.useState('This action can not be undone.')\n\n  const fetchData = async () => {\n    const response = await userService.getData();\n    setData(response)\n  }\n\n  const [alert, setAlert] = React.useState(false)\n\n  const DeleteRow = async (id) => {\n    setLoader(true);\n    userService.destroy(id).then(()=>{\n      fetchData()\n      setLoader(false)\n      setAlert(false)\n    },\n    (error)=>{\n      setLoader(false)\n      setMessage('Ups, we have an error trying to delete the User. Contact with the admin')\n      console.log(error)\n    })\n  }\n\n  React.useEffect(()=>{fetchData()}, [])\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <main className={classes.layout}>\n        <Paper className={classes.paper}>\n        <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n          {'Users'}\n        </Typography>\n        <SearchBar />\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Last name</TableCell>\n              <TableCell align=\"right\">e-mail</TableCell>\n              <TableCell align=\"right\">Edit</TableCell>\n              <TableCell align=\"right\">Delete</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            { ! data.length\n              ? <TableRow >\n                  <TableCell colSpan={5}>\n                    <LinearProgress />\n                  </TableCell>\n                </TableRow>\n              : data.map((row, index) => (\n                  <TableRow key={index}>\n                    {row.error \n                    ? <TableCell scope=\"row\" component={'th'} colSpan={5}>{row.error}</TableCell>\n                    : <>\n                        <TableCell scope=\"row\" component={'th'}>\n                          <Link color=\"inherit\" component={AdapterLink} to={`/user/${row.id}`}>\n                            {upperFirst(row.name)}\n                          </Link>\n                        </TableCell>\n                        <TableCell>{row.lastName}</TableCell>\n                        <TableCell align=\"right\">{row.email}</TableCell>\n                        <TableCell align=\"right\" scope=\"row\" component={'th'}>\n                          <Link color=\"inherit\" component={AdapterLink} to={`/user/${row.id}/edit`}>\n                            <Edit />\n                          </Link>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <Delete onClick={()=>setAlert(row.id)}  />\n                        </TableCell>\n                      </>\n                    }\n                  </TableRow>\n                ))}\n          </TableBody>\n        </Table>\n      </Paper>\n      <GoToCreate/>\n      <GoBack />\n      </main>\n      <ConfirmDialog \n        open={alert} \n        handleClose={()=>setAlert(false)}\n        handleOk={DeleteRow} \n        title={'Are you sure?'}\n        message={isLoading\n          ? <LinearProgress />\n          : message\n        }/>\n    </React.Fragment>\n\n  );\n}","\nimport React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport { AuthContext } from '../contexts/AuthStore'\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <AuthContext.Consumer>\n    {({ isAuthenticated}) => (\n      <Route render={\n        props => isAuthenticated() \n        ? <Component {...props}/> \n        : <Redirect to=\"/sign-in\" />\n      } {...rest} />\n    )}\n  </AuthContext.Consumer>\n)\n\nexport default PrivateRoute","\nimport React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport { AuthContext } from '../contexts/AuthStore'\n// !refactor!!\nconst PublicRoute = ({ component: Component, ...rest }) => (\n  <AuthContext.Consumer>\n    {({ isAuthenticated }) => (\n      <Route render={\n        props => !isAuthenticated() \n        ?  <Component {...props}/> \n        :  <Redirect to={'/'} />\n      } {...rest} />\n    )}\n  </AuthContext.Consumer>\n)\n\nexport default PublicRoute","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport S2R2 from './../misc/s2r2'\nimport useStyles from '../../styles/mainMenu'\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport {buttonsProps} from '../../utils/helpers';\nimport AdapterLink from './../misc/Enlace'\nimport Link from '@material-ui/core/Link';\nimport {upperFirst} from 'lodash'\n\n\nconst withFormPage  = (WrappedForm) => {\n  return (props) => {\n    const classes = useStyles();\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <Container component=\"main\" className={classes.main} maxWidth=\"sm\">\n          <S2R2 />\n          <Typography variant=\"h5\" gutterBottom>\n            {'What do you want to do now?'}\n          </Typography>\n          <Typography variant=\"h6\">\n            {'Please fill out the form according to the instructions of the investigator'}\n          </Typography>\n          <WrappedForm {...props}/>\n        </Container>\n        <StudentFooter classes={classes} />\n      </div>\n    );\n  }\n}\n\nconst CustomFooter = ({user, classes}) => {\n  const {data:{role, name}} = user;\n  return (\n    <footer className={classes.footer}>\n      <Container maxWidth=\"sm\">\n        <Typography variant=\"body1\">Navigation</Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\">\n          {`${upperFirst(name)}, Remember that you can also go to `}\n          {\n            buttonsProps(role).slice(1).reverse().map((button, i) => (\n              <React.Fragment key={i}>\n              { !!i && ' or '}\n              <Link to={button.link} component={AdapterLink} color={'primary'}>\n                {button.label}\n              </Link>\n              </React.Fragment>\n            ))\n          }\n        {' to specify the general configurations, or simply '}\n        <Link color=\"secondary\" to={'/'} component={AdapterLink}>\n          {'go back'}\n        </Link>\n        </Typography>\n      </Container>\n    </footer>\n  )\n}\n\nconst StudentFooter = withAuthConsumer(CustomFooter);\n\nexport default withFormPage;","import http from './BaseServices';\nconst base = '/user'\n\nconst update = tail => id => user => http.put(`${base}/${id}/${tail}`, user).then(({data})=>data)\n\nconst read = tail => id => http.get(`${base}/${id}/${tail}`).then(({data})=>data);\n\nexport default {\n  readElf: read('elf'),\n  updateElf: update('elf'),\n  readEmotion: read('emotions'),\n  updateEmotion: update('emotions'),\n  readStr: stg => read(`strategy/${stg}`),\n  updateStr: stg => update(`strategy/${stg}`),\n}\n","import { useState, useEffect, useCallback } from \"react\";\n\nexport const fieldsMapper = data => data.labels.map(label => ({\n  ...label, value: data.questions[label.key]\n}))\n\nexport const useForm = ({update, get}) => {\n\n  const [values, setValues] = useState({});\n  const [error, setError] = useState('Fetching field forms');\n  const [isLoading, setLoader] = useState(false);\n\n  const handleSubmit = (event) => {\n    setLoader(true);\n    event.preventDefault();\n    const questions = values.reduce((ac, cr) => ({...ac, ...{ [cr.key] : cr.value } }), {})\n    update(questions)\n      .then(response => {\n        setValues(fieldsMapper(response));\n        setLoader(false);\n      })\n      .catch(console.error)\n  };\n\n  const handleChange = name => (event) => {\n    event.persist();\n    const index = values.findIndex(x => x.key === name);\n    const update = [...values];\n    update[index].value = event.type === 'change' && update[index].type === 'multiple'\n      ? {...update[index].value, [event.target.name] : event.target.checked}\n      : isNaN(Number(event.target.value)) ? event.target.value : Number(event.target.value);\n\n    setValues(update)\n  };\n\n  const fetchData = useCallback(async () => {\n    setLoader(true);\n    const response= await get;\n    const fields = fieldsMapper(response);\n    if(!fields.length) {\n      setError('We can not fetch the field forms')\n    } else {\n      console.log('fetching')\n      setValues(fields);\n      setLoader(false);\n    }\n  }, [get])\n\n  useEffect(()=>{fetchData();}, [fetchData]);\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n    error,\n    isLoading,\n  }\n};\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst Form = ({\n  values,\n  error,\n  isLoading,\n  handleChange,\n  handleSubmit,\n  classes\n}) => (\n  <Container component=\"main\" >\n    <CssBaseline />\n    { isLoading\n    ? <LinearProgress className={classes.progress} color=\"secondary\" />\n    : !values.length\n      ? !!error && <div> {error} </div>\n      : <div className={classes.paper}>\n        <form className={classes.form} onSubmit={handleSubmit} autoComplete=\"off\">\n        <Grid container spacing={2}>\n          {\n            values.map(obj => (\n                <Grid item xs={12} key={obj.key}>\n                  <FormControl component=\"fieldset\" fullWidth>\n                  {\n                    obj.options && !!obj.options.length\n                    ? <FormGroup row>\n                        <FormLabel component=\"legend\">{obj.label}</FormLabel>\n                      { obj.type === 'multiple'\n                      ? obj.options\n                        .map((option, i) => ({\n                          opt:option, \n                          label:!!obj.labels ? obj.labels[i] : option\n                        }))\n                        .map(({opt, label}) => (\n                        <FormControlLabel key={opt.trim()}\n                          control={<Checkbox checked={obj.value[opt]} onChange={handleChange(obj.key)} name={opt} />}\n                          label={label}\n                        />\n                      ))\n                      : <RadioGroup row name={obj.key} value={obj.value || ''} onChange={handleChange(obj.key)} >\n                          {obj.options.map((option) => (\n                            <FormControlLabel key={option} value={option} control={<Radio />} label={option} />\n                          ))}\n                        </RadioGroup>\n                      }\n                      </FormGroup>\n                    : <TextField\n                        autoComplete=\"off\"\n                        name={obj.key}\n                        onChange={handleChange(obj.key)}\n                        value={obj.value}\n                        variant=\"outlined\"\n                        multiline\n                        rows={3}\n                        fullWidth\n                        id={obj.key}\n                        label={obj.label}\n                        autoFocus\n                      />\n                  }\n                  </FormControl>\n                </Grid>\n              )\n            )\n          }\n        </Grid>\n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          {'Save'}\n        </Button>\n        </form>\n        </div>\n    }\n  </Container>\n)\n\nexport default Form;","import React from 'react';\nimport withFormPage from './withFormPage';\nimport formsService from '../../services/forms.services'\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport useStyles from '../../styles/forms';\nimport {useForm} from '../../hooks';\nimport Typography from '@material-ui/core/Typography';\nimport Form from './form';\n\n\nconst Efl = ({user}) => {\n  const {data:{id}} = user;\n  const classes = useStyles();\n  const update = formsService.updateElf(id);\n  const get = formsService.readElf(id);\n  const { ...fields } = useForm({update, get});\n\n  return (\n    <React.Fragment>\n      <Typography component=\"h3\" >\n        {'Este cuestionario ha sido diseado para estudiantes de ingls como lengua extranjera que participan en conversaciones por pareja. Por favor lee cada enunciado y selecciona la respuesta marcando con una X la casilla (1,2,3,4,5) que ms se acerque a tu realidad.'}\n      </Typography>\n      <Form {...fields} classes={classes} />\n    </React.Fragment>\n  )\n}\n\n\nexport default withAuthConsumer(withFormPage(Efl));","import React from 'react';\nimport withFormPage from './withFormPage';\nimport formsService from '../../services/forms.services'\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport useStyles from '../../styles/forms';\nimport {useForm} from '../../hooks';\nimport Form from './form';\nimport Typography from '@material-ui/core/Typography';\n\nconst Emotions = ({user}) => {\n  const {data:{id}} = user;\n  const classes = useStyles();\n  const update = formsService.updateEmotion(id);\n  const get = formsService.readEmotion(id);\n  const { ...fields } = useForm({update, get});\n\n  return (\n  <React.Fragment>\n    <Typography variant=\"body1\" gutterBottom >\n      {'Scenario 1: You and your partner have to talk in English AND your teacher will check what you are saying.'}\n    </Typography>\n    <Form {...fields} classes={classes} />\n  </React.Fragment>\n  )\n}\n\n\nexport default withAuthConsumer(withFormPage(Emotions));","import React from 'react';\nimport withFormPage from './withFormPage';\nimport formsService from '../../services/forms.services'\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport useStyles from '../../styles/forms';\nimport {useForm} from '../../hooks';\nimport Form from './form';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nconst Strategies = ({user}) => {\n  const {data:{id}} = user;\n  const classes = useStyles();\n  const update = formsService.updateStr(1)(id);\n  const get = formsService.readStr(1)(id);\n  const { ...fields } = useForm({update, get});\n  const options = [\n    '1 es nunca o casi nunca',\n    '2 generalmente no lo hago (menos de la mitad de las veces),',\n    '3 a veces (ms o menos), ',\n    '4 a menudo (ms de la mitad de las veces) ',\n    '5 siempre o casi siempre',\n  ]\n\n  return (\n  <React.Fragment>\n    <Typography variant=\"body1\" gutterBottom >\n      {'Este cuestionario ha sido diseado para estudiantes de ingls como lengua extranjera que participan en conversaciones por pareja. Por favor lee cada enunciado y selecciona la respuesta marcando con una X la casilla (1,2,3,4,5) que ms se acerque a tu realidad.'}\n    </Typography>\n    <List component=\"nav\" aria-label=\"secondary mailbox folders\" style={flexContainer}>\n      {options.map((item, i)=>(\n        <ListItem key={i}>\n          <ListItemText primary={item} />\n        </ListItem>\n      ))}\n    </List>\n    <Typography variant=\"body1\" gutterBottom >\n      {'Las respuestas en cada enunciado te describen slo a ti. No hay respuestas correctas ni incorrectas. Tmate el tiempo necesario para resolver cada tem. Usualmente deberas tardar entre 15-20 minutos para rellenarlo. Si tienes alguna pregunta consulta con el investigador.'}\n    </Typography>\n    <Typography variant=\"h6\">\n      {'Durante una conversacin por parejas yo'}\n    </Typography>\n    <Form {...fields} classes={classes} />\n  </React.Fragment>\n  )\n}\n\nconst flexContainer = {\n  display: 'flex',\n  alignItems: 'baseline',\n  padding: 0,\n};\n\n\nexport default withAuthConsumer(withFormPage(Strategies));","import React from 'react';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport MainMenu from './components/MainMenu';\nimport RecordingList from './components/RecordingsList';\nimport UserList from './components/UsersList';\nimport Checkout from './components/recordings/Checkout.js';\nimport { Switch } from 'react-router-dom';\nimport PrivateRoute from './guards/PrivateRoutes';\nimport PublicRoutes from './guards/PublicRoutes';\nimport EflForm from './components/Forms/Efl.form';\nimport EmotionsForm from './components/Forms/Emotions.form';\nimport StrategiesForm from './components/Forms/Strategies.form';\n\nfunction App() {\n  return (\n    <React.Fragment>\n       <Switch>\n          <PrivateRoute exact path=\"/\" component={MainMenu} />\n          <PublicRoutes exact path=\"/sign-in\" component={Login} />\n\n          <PrivateRoute exact path=\"/user\" component={Register} />\n          <PrivateRoute exact path=\"/user/:id/edit\" component={Register} />\n\n          <PrivateRoute exact path=\"/strategies\" component={StrategiesForm} />\n          <PrivateRoute exact path=\"/efl\" component={EflForm} />\n          <PrivateRoute exact path=\"/emotions\" component={EmotionsForm} />\n\n          <PrivateRoute exact path=\"/new-record\" component={Checkout} />\n          <PrivateRoute path=\"/record/:id\" component={Checkout} />\n          <PrivateRoute exact path=\"/recordings\" component={RecordingList} />\n          <PrivateRoute exact path=\"/students\" component={UserList} />\n          {/* <Route exact path=\"/\" component={() => (\n            <Redirect to={\"/search\"} />\n          )} /> */}\n        </Switch>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { AuthStore } from './contexts/AuthStore';\n\nReactDOM.render(\n  <Router>\n    <AuthStore>\n      <App />\n    </AuthStore>\n  </Router>\n, document.getElementById('root'));"],"sourceRoot":""}