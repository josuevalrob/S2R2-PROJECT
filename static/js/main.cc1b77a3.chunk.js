(this["webpackJsonpjeval-web"]=this["webpackJsonpjeval-web"]||[]).push([[0],{145:function(e,a,t){e.exports=t(186)},174:function(e,a,t){},186:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(12),c=t.n(o),l=t(7),i=t(13),s=t(11),u=t(246),m=t(243),d=t(242),p=t(267),f=t(245),g=t(271),h=t(249),E=t(248),v=t(73),b=t.n(v),y=t(61),w=t(240),j=t(65),k=Object(j.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),O=t(38),C=r.a.forwardRef((function(e,a){return r.a.createElement(O.b,Object.assign({innerRef:a},e))})),x=t(114),N=t.n(x),S=t(45),A=t(30),I=t(71),R=t(72),B=t(80),W=r.a.createContext(),T=function(e){function a(){var e,t;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(I.a)(this,(e=Object(R.a)(a)).call.apply(e,[this].concat(r)))).state={user:JSON.parse(localStorage.getItem("current-user")||"{}")},t.handleUserChange=function(e){t.setState({user:e}),e?localStorage.setItem("current-user",JSON.stringify(e)):localStorage.removeItem("current-user")},t.isAuthenticated=function(){return!!(t.state.user&&t.state.user.data&&t.state.user.data.email)},t}return Object(B.a)(a,e),Object(A.a)(a,[{key:"render",value:function(){return r.a.createElement(W.Provider,{value:{user:this.state.user,onUserChange:this.handleUserChange,isAuthenticated:this.isAuthenticated}},this.props.children)}}]),a}(n.Component),U=function(e){return function(a){return r.a.createElement(W.Consumer,null,(function(t){return r.a.createElement(e,Object.assign({},t,a))}))}};console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/jeval-web",REACT_APP_PRO_API:"https://jeval.herokuapp.com",REACT_APP_API_URL:"http://localhost:3001"}));var D=N.a.create({baseURL:"".concat("https://jeval.herokuapp.com"),withCredentials:!0});D.interceptors.response.use((function(e){return e}),(function(e){if(403!==e.response.status&&401!==e.response.status)return Promise.reject(e);localStorage.removeItem("current-user"),window.location.assign("/sign-in")}));var P=D,q=function(e){return P.post("/signup",e)},F=function(e){return P.post("/signin",e)},L=t(48),_=t(247);var G=U((function(e){var a=k(),t=r.a.useState({email:"",password:""}),n=Object(s.a)(t,2),o=n[0],c=n[1],v=r.a.useState(!1),j=Object(s.a)(v,2),O=j[0],x=j[1],N=function(e){return function(a){return c(Object(i.a)({},o,Object(l.a)({},e,a.target.value)))}};return r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(m.a,{className:a.avatar},r.a.createElement(b.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault(),x(!0),F(o).then((function(a){x(!1),e.onUserChange(a)}),(function(e){var a=e.message,t=e.errors;console.error(a,t),x(!1)}))}},r.a.createElement(p.a,{onChange:N("email"),value:o.email||"",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",autoFocus:!0,type:"email"}),r.a.createElement(p.a,{onChange:N("password"),value:o.password||"",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",autoComplete:"off",type:"password"}),r.a.createElement(f.a,{control:r.a.createElement(g.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},O?r.a.createElement(_.a,{className:a.progress,color:"secondary"}):"Sign In"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(h.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(E.a,{item:!0},r.a.createElement(h.a,{to:"/sign-up",component:C,variant:"body2"},"Don't have an account? Sign Up"))))))})),J=t(272),z=t(250),H=t(192);var M=U((function(e){var a=k(),t=r.a.useState(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],g=r.a.useState({email:"",password:"",name:"",lastName:"",rol:"student"}),v=Object(s.a)(g,2),j=v[0],O=v[1],x=function(e){return function(a){return O(Object(i.a)({},j,Object(l.a)({},e,a.target.value)))}};return o?r.a.createElement(L.a,{to:"/"}):r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(m.a,{className:a.avatar},r.a.createElement(b.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault(),q(j).then((function(a){e.onUserChange(a),c(!0)}),(function(e){var a=e.message,t=e.errors;console.error(a,t)}))},autoComplete:"off"},r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{autoComplete:"off",name:"name",onChange:x("name"),value:j.name||"",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{onChange:x("lastName"),value:j.lastName||"",variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"off"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:x("email"),value:j.email||"",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"none"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:x("password"),value:j.password||"",variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"password",type:"password",id:"password",autoComplete:"none"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(H.a,{row:!0},r.a.createElement(z.a,{row:!0,name:j.rol,value:j.rol,onChange:x("rol")},r.a.createElement(f.a,{value:"teacher",control:r.a.createElement(J.a,null),label:"Teacher"}),r.a.createElement(f.a,{value:"student",control:r.a.createElement(J.a,null),label:"Student"}))))),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(h.a,{href:"#",variant:"body2",color:"secondary"},"Register with google")),r.a.createElement(E.a,{item:!0},r.a.createElement(h.a,{to:"/sign-in",component:C,variant:"body2"},"Already have an account? Sign In"))))))})),Z=t(115),Q=t.n(Z),Y=t(116),V=t.n(Y),$=Object(j.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20}}}));function K(){var e=$();return r.a.createElement("div",null,r.a.createElement(u.a,{to:"/new-record",component:C,variant:"contained",color:"primary",className:e.button},"New Record",r.a.createElement(Q.a,{className:e.rightIcon})),r.a.createElement(u.a,{to:"/recordings",component:C,variant:"contained",color:"default",className:e.button},"Check Recordins",r.a.createElement(V.a,{className:e.leftIcon})))}var X=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(2),marginTop:"auto",backgroundColor:"white"}}}));var ee=U((function(e){var a=e.user,t=e.onUserChange,n=a.data;return r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},"Hello ".concat(n.name,", here you can "),r.a.createElement(h.a,{color:"inherit",to:"/profile/".concat(n.id),component:C},"edit your profile")," or simply  ",r.a.createElement(h.a,{color:"inherit",to:"/",onClick:function(){return t()},component:C},"logout")," from the site")}));function ae(){var e=X();return r.a.createElement("div",{className:e.root},r.a.createElement(d.a,null),r.a.createElement(w.a,{component:"main",className:e.main,maxWidth:"sm"},r.a.createElement(y.a,{variant:"h2",component:"h1",gutterBottom:!0},"Jeval"),r.a.createElement(y.a,{variant:"h5",component:"h2",gutterBottom:!0},"A simple App for voice recording and spech recognition analysis."),r.a.createElement(y.a,{variant:"body1"},"What do you want to do now."),r.a.createElement(K,null)),r.a.createElement("footer",{className:e.footer},r.a.createElement(w.a,{maxWidth:"sm"},r.a.createElement(y.a,{variant:"body1"},"Customization"),r.a.createElement(ee,null))))}var te=t(25),ne=t.n(te),re=Object(j.a)((function(e){return{appBar:{position:"relative"},layout:Object(l.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(900+2*e.spacing(2)),{width:900,marginLeft:"auto",marginRight:"auto"}),paper:Object(l.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(900+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},progress:{margin:e.spacing(2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},table:{minWidth:650}}})),oe=t(262),ce=t(266),le=t(265),ie=t(263),se=t(264),ue=t(91),me="/recording",de=function(e){return Object(i.a)({},e,{studentA:e.students[0],studentB:e.students[1]})},pe=function(e){return P.post(me,e)},fe=function(e){return P.get("".concat(me,"/").concat(e)).then((function(e){var a=e.data;return de(a)}))},ge=function(){return P.get("".concat(me)).then((function(e){return e.data.map(de)})).catch((function(e){return[{error:e.response.data.message}]}))},he=function(e,a){return P.put("".concat(me,"/").concat(e),a).then((function(e){var a=e.data;return de(a)}))},Ee=function(e){return P.delete("".concat(me,"/").concat(e))},ve=function(e,a){return P.put("".concat(me,"/").concat(e,"/single"),a).then((function(e){var a=e.data;return de(a)}))},be=function(e,a){return P.put("".concat(me,"/").concat(e,"/singleDelete"),a)},ye=t(117),we=t.n(ye),je=t(276),ke=t(8),Oe=Object(j.a)((function(e){return{root:{},menuButton:{marginRight:e.spacing(2)},search:Object(l.a)({flexGrow:1,position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ke.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ke.d)(e.palette.common.white,.25)},marginRight:0,width:"100%"},e.breakpoints.up("sm"),{marginRight:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));function Ce(){var e=Oe();return r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(we.a,null)),r.a.createElement(je.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}))}var xe=t(118);var Ne=function(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"If you don't wanna be here, ",r.a.createElement(h.a,{color:"inherit",component:C,to:"/"},"Go back")," to the main menu.")},Se=t(261),Ae=t(126),Ie=t.n(Ae),Re=t(274),Be=t(254),We=t(252),Te=t(253),Ue=t(251),De=t(106),Pe=r.a.forwardRef((function(e,a){return r.a.createElement(De.a,Object.assign({direction:"up",ref:a},e))}));function qe(e){var a=e.open,t=e.message,n=e.handleClose,o=e.handleOk;return r.a.createElement(Re.a,{open:!!a,TransitionComponent:Pe,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ue.a,{id:"alert-dialog-slide-title"},"Delete Recording"),r.a.createElement(We.a,null,r.a.createElement(Te.a,{id:"alert-dialog-slide-description"},t)),r.a.createElement(Be.a,null,r.a.createElement(u.a,{onClick:n,color:"primary"},"Disagree"),r.a.createElement(u.a,{onClick:function(){return o(a)},color:"primary"},"Agree")))}var Fe=t(19),Le=t(275),_e=t(260),Ge=t(273),Je=t(255),ze=function(e){var a=e.arr,t=e.obj,n=e.handle,o=e.student,c=e.stage;return(r.a.createElement(H.a,{row:!0},a.map((function(e,a){var l=!!t[e.key][c];return r.a.createElement(E.a,{item:!0,xs:6,key:a},r.a.createElement(f.a,{control:r.a.createElement(Je.a,{checked:l,value:l,onChange:n(e.key,o,c),color:"primary"}),label:e.label}))}))))},He=[{key:"confident",label:"Confident",value:!1},{key:"lost",label:"Lost",value:!1},{key:"nervous",label:"Nervous",value:!1},{key:"nothing",label:"I didn't feel anything",value:!1}],Me=[{key:"startingConversation",label:"Starting the Conversation",value:[!1,!1,!1]},{key:"myOpinion",label:"Giving my opinion",value:[!1,!1,!1]},{key:"asking",label:"Asking Questions",value:[!1,!1,!1]},{key:"partnerGesture",label:"Noticing my partners' gesture",value:[!1,!1,!1]},{key:"comments",label:"Making comments",value:[!1,!1,!1]},{key:"listeningPartnerIdeas",label:"Listening to my partner's ideas",value:[!1,!1,!1]},{key:"answering",label:"Answering Questions",value:[!1,!1,!1]},{key:"smiling",label:"Smiling",value:[!1,!1,!1]},{key:"eyeContact",label:"Establishing eye contact",value:[!1,!1,!1]},{key:"bodyLanguage",label:"Addresing body language",value:[!1,!1,!1]}],Ze=t(269),Qe=t(256),Ye=t(2),Ve=t(268);function $e(e){var a=e.children,t=e.value,n=e.index,o=Object(Ye.a)(e,["children","value","index"]);return r.a.createElement(y.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),r.a.createElement(Ve.a,{p:3},a))}var Ke=t(257),Xe=function(e,a,t){var n=k(),o=r.a.useState(0),c=Object(s.a)(o,2),l=c[0],i=c[1];return r.a.createElement(w.a,{component:"main"},r.a.createElement(d.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement(Qe.a,{position:"static",color:"default"},r.a.createElement(Ze.a,{value:l,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",onChange:function(e,a){return i(a)}},a.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({key:a},e,function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(a)))})))),t.map((function(a,t){return r.a.createElement($e,{value:l,index:t,key:t},r.a.createElement(E.a,{container:!0,spacing:3},r.a.createElement(e,a)))}))))},ea=function(e){return e.reduce((function(e,a){return e[a.key]=a.value,e}),{})},aa=function(e){var a=e.recording,t=e.fn,n=e.stage,o=a.cognitive,c=a.studentA,u=a.studentB,m=r.a.useState(!1),d=Object(s.a)(m,2),p=d[0],f=d[1],g=r.a.useReducer((function(e,r){var o=r.type,c=r.payload,l=null;switch(o){case 0:l=[Object(i.a)({},e[0],{},c),e[1]];break;case 1:l=[e[0],Object(i.a)({},e[1],{},c)];break;case"fill":l=c,f(!0);break;default:l=e}return t(ta(a,l,n)),l}),[ea(Me),ea(Me)]),h=Object(s.a)(g,2),E=h[0],v=h[1];r.a.useEffect((function(){o&&o.length&&!p&&v({type:"fill",payload:o})}),[o,p]);var b=function(e,a){return function(t){v({type:a,payload:Object(l.a)({},e,E[a][e].map((function(e,a){return a===n?!e:e})))})}},y=[{student:0,obj:E[0],handle:b,arr:Me,stage:n},{student:1,obj:E[1],handle:b,arr:Me,stage:n}];return Xe(ze,[{label:c},{label:u}],y)},ta=function(e,a,t){return Object(i.a)({},e,{},function(e,a){return e.map((function(e){return delete e._id&&e})).map((function(e){return Object.values(e).some((function(e){return e[a]}))})).some((function(e){return!e}))}(a,t)?{hasError:!0,errors:{cognitive:"At least one value should be selected for both students."}}:{hasError:!1,cognitive:a})},na=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,ra=/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi,oa={email:function(e){var a;return e?na.test(e)||(a="Invalid email pattern"):a="Email is required",a},name:function(e){var a;return(!e||e.length<3)&&(a="Name is required"),a},studentA:function(e){var a;return(!e||e.length<3)&&(a="The first student is required"),a},studentB:function(e){var a;return(!e||e.length<3)&&(a="The second student is required"),a},comments:function(e){var a;return e.length>140&&(a="Just a tweet... no more than 140 characters"),a},password:function(e){var a;return(!e||e.length<3)&&(a="Password is required"),a},image:function(e){var a;return ra.test(e)||(a="Invalid Url Pattern"),a},notesTitle:function(e){var a;return e||(a="We need a title for your Notes x"),a},markDown:function(e){var a;return(!e||e.length<140)&&(a="Give me at least a tweet!!"),a}},ca=function(e){function a(){var e,t;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(I.a)(this,(e=Object(R.a)(a)).call.apply(e,[this].concat(r)))).state={content:t.props.recording.id?t.props.recording:qa,errors:{name:t.props.recording.name?void 0:oa.name(),studentA:t.props.recording.studentA?void 0:oa.studentA(),studentB:t.props.recording.studentB?void 0:oa.studentB()}},t.hasErrors=function(){var e=t.state.content;return Object.keys(e).some((function(a){var t=e[a];return oa[a]&&oa[a](t)}))},t.handleChange=function(e){var a=e.target,n=a.name,r=a.value,o=t.state,c=o.content,s=o.errors;t.setState({content:Object(i.a)({},c,Object(l.a)({},n,r)),errors:Object(i.a)({},s,Object(l.a)({},n,oa[n]&&oa[n](r)))},(function(){var e=t.state,a=e.content,n=e.errors;t.hasErrors()?t.props.fn(Object(i.a)({},a,{hasError:!0,errors:n})):t.props.fn(Object(i.a)({},a,{students:[a.studentA,a.studentB]}))}))},t}return Object(B.a)(a,e),Object(A.a)(a,[{key:"componentDidUpdate",value:function(e,a){this.props.recording.id!==e.recording.id&&this.setState({content:this.props.recording,errors:{}})}},{key:"render",value:function(){var e=this.state.content;return r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",null,r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:this.handleChange,value:e.name,error:!!this.state.errors.name,variant:"outlined",fullWidth:!0,id:"name",name:"name",label:"Recording Name",autoComplete:"fname"})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{onChange:this.handleChange,value:e.studentA,error:!!this.state.errors.studentA,autoComplete:"fstudent",name:"studentA",variant:"outlined",required:!0,fullWidth:!0,id:"studentA",label:"First Student",autoFocus:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{onChange:this.handleChange,value:e.studentB,error:!!this.state.errors.studentB,variant:"outlined",required:!0,fullWidth:!0,id:"studentB",label:"Second Student",name:"studentB",autoComplete:"sstudent"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:this.handleChange,value:e.comments,variant:"outlined",fullWidth:!0,id:"comments",label:"Some extra comments",name:"comments",rows:"4",multiline:!0,autoComplete:"fcomments"})))))}}]),a}(r.a.Component),la=Object(j.a)((function(e){return{card:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{backgroundColor:"#1565c0",width:160,display:"flex",justifyContent:"flex-end",flexDirection:"column"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{height:38,width:38},saveIcon:{margin:"auto",color:"#fff"}}})),ia=t(127),sa=t(122),ua=t.n(sa),ma=t(258),da=t(191),pa=t(120),fa=t.n(pa),ga=t(121),ha=t.n(ga),Ea=t(123),va=t.n(Ea),ba=t(78),ya=t.n(ba),wa=t(119),ja=t.n(wa);function ka(e){var a=e.handleSave,t=la(),n=r.a.useState(!1),o=Object(s.a)(n,2),c=o[0],l=o[1],i=r.a.useState(!1),u=Object(s.a)(i,2),m=u[0],d=u[1],p=r.a.useState(new Blob),f=Object(s.a)(p,2),g=f[0],h=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.details},r.a.createElement(ma.a,{className:t.content},r.a.createElement(y.a,{component:"h5",variant:"h5"},"Track # 1")),r.a.createElement("div",{className:t.controls},r.a.createElement(da.a,{onClick:function(){return l(!c)},"aria-label":"play/pause"},c?r.a.createElement(fa.a,{className:t.playIcon}):r.a.createElement(ja.a,{className:t.playIcon})),r.a.createElement(da.a,{"aria-label":"previous",onClick:function(){new Audio(g.blobURL).play()},disabled:!g.blobURL},r.a.createElement(ha.a,{className:t.playIcon})))),g.blobURL?r.a.createElement("div",{className:t.cover},r.a.createElement("div",{className:t.saveIcon},r.a.createElement(da.a,{onClick:function(){var e;return ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,ne.a.awrap(a(g));case 3:e=t.sent,console.log(e),d(!1);case 6:case"end":return t.stop()}}))},"aria-label":"previous"},m?r.a.createElement(_.a,{className:t.progress}):r.a.createElement(va.a,{className:t.saveIcon})),r.a.createElement(da.a,{onClick:function(){},"aria-label":"previous"},r.a.createElement(ya.a,null)))):r.a.createElement(ia.a,{className:t.cover,record:c,onStop:function(e){h(e)},strokeColor:"#ffffff",backgroundColor:ua.a[800]}))}t(174);var Oa=t(124),Ca=t.n(Oa),xa=function(e,a,t){var n=new FileReader;return n.readAsDataURL(t),new Promise((function(t,r){n.onerror=function(){n.abort(),r(new DOMException("Problem parsing file"))},n.onload=function(){var o;return ne.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:o=n.result.split(",")[1],ve(e,{audioName:a,audio:o}).then((function(e){t(e)}),(function(e){console.error("Invalid status saving audio message: "+e.status),r(e)}));case 3:case"end":return c.stop()}}))}}))},Na=t(125),Sa=t(259);function Aa(e){var a=e.recording,t=e.fn,n=a.id,o=a.audioId;return r.a.createElement(Ia,{newAudio:function(e){var a,r;return ne.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=Object(Na.v4)(),o.prev=1,o.next=4,ne.a.awrap(xa(n,a,e));case 4:return r=o.sent,t(r),o.abrupt("return",!0);case 9:return o.prev=9,o.t0=o.catch(1),console.log(o.t0),o.abrupt("return",!1);case 13:case"end":return o.stop()}}),null,null,[[1,9]])},deleteAudio:function(e){return ne.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:be(n,{audioName:e}).then(t(Object(i.a)({},a,{audioId:""})),(function(e){console.error(e)}));case 1:case"end":return r.stop()}}))},audio:o})}var Ia=function(e){var a=e.newAudio,t=e.deleteAudio,n=e.audio;return r.a.createElement(w.a,{component:"main"},r.a.createElement(d.a,null),r.a.createElement(Sa.a,{style:{display:"flex",height:"100%"}},r.a.createElement(ka,{handleSave:function(e){var t=e.blob;return a(t)}}),!!n&&r.a.createElement("div",{style:{width:"100%",alignSelf:"center",overflow:"scroll"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Ca.a,{src:"".concat("https://jeval.herokuapp.com","/messages/").concat(n)}),r.a.createElement(da.a,{style:{margin:".5em 0"},onClick:function(){return t(n)},"aria-label":"delete audio"},r.a.createElement(ya.a,null))))))},Ra=function(e){return r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement("h3",null,e.questions.feel),r.a.createElement(Ba,e.feel)),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement("h3",null,e.questions.help),r.a.createElement(H.a,{row:!0},r.a.createElement(z.a,{name:e.feel.student,value:e.help.value?"yes":"no",onChange:function(a){return e.help.handle(a,e.feel.student,"help")}},r.a.createElement(f.a,{value:"yes",control:r.a.createElement(J.a,null),label:"Yes, they did"}),r.a.createElement(f.a,{value:"no",control:r.a.createElement(J.a,null),label:"No, they didn't"})))))},Ba=function(e){var a=e.arr,t=e.value,n=e.handle,o=e.student;return r.a.createElement(H.a,{row:!0},r.a.createElement(z.a,{name:o,value:t,onChange:function(e){return n(e,o,"feel")}},a.map((function(e,a){return r.a.createElement(f.a,{key:a,value:e.key,control:r.a.createElement(J.a,null),label:e.label})}))))},Wa=function(e){var a=e.recording,t=e.fn,n=a.socioAffective,o=a.studentA,c=a.studentB,u=r.a.useState(!1),m=Object(s.a)(u,2),d=m[0],p=m[1],f=r.a.useReducer((function(e,n){var r=n.type,o=n.payload,c=null;switch(r){case"A":c=[Object(i.a)({},e[0],{},o),e[1]];break;case"B":c=[e[0],Object(i.a)({},e[1],{},o)];break;case"fill":c=o,p(!0);break;default:c=e}return t(Object(i.a)({},a,{socioAffective:c})),c}),[{feel:"",help:void 0},{feel:"",help:!1}]),g=Object(s.a)(f,2),h=g[0],E=g[1];r.a.useEffect((function(){n&&n.length&&!d&&E({type:"fill",payload:n})}),[n,d]);var v=function(e,a,t){var n=e.target.value;E({type:a,payload:"feel"===t?Object(l.a)({},t,n):Object(l.a)({},t,"yes"===n)})},b={feel:"How did you feel when using strategies?",help:"Did they help you to talk to your partner?"},y=[{feel:{arr:He,student:"A",value:h[0].feel,handle:v},questions:b,help:{value:h[0].help,handle:v}},{feel:{arr:He,student:"B",value:h[1].feel,handle:v},questions:b,help:{value:h[1].help,handle:v}}];return Xe(Ra,[{label:o},{label:c}],y)};var Ta=function(e,a,t){switch(e){case 0:return r.a.createElement(ca,{fn:a,recording:t});case 1:return r.a.createElement(aa,{stage:0,fn:a,recording:t});case 2:return r.a.createElement(Aa,{fn:a,recording:t});case 3:return r.a.createElement(aa,{stage:1,fn:a,recording:t});case 4:return r.a.createElement(Wa,{fn:a,recording:t});case 5:return r.a.createElement(aa,{stage:2,fn:a,recording:t});default:throw new Error("Unknown step")}},Ua=function(e){var a=e.step,t=e.classes,n=e.back,o=e.next,c=e.steps,l=e.blocked;return r.a.createElement("div",{className:t.buttons},0!==a&&r.a.createElement(u.a,{onClick:n,className:t.button},"Back"),r.a.createElement(u.a,{disabled:l,variant:"contained",color:"primary",onClick:o,className:t.button},a===c.length-1?"Resume":"Next"))},Da=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),r.a.createElement(y.a,{variant:"subtitle1"},"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped."))},Pa=t(90),qa={id:"",name:"",comments:"",studentA:"",studentB:""},Fa=["Set-Up","Before talking","Talking","After talking","Socio Affective","Future Recordings"];function La(e){var a=re(),t=e.match.params.id,n=r.a.useState(0),o=Object(s.a)(n,2),c=o[0],l=o[1],i=r.a.useState(!1),u=Object(s.a)(i,2),m=u[0],p=u[1],f=r.a.useState({}),g=Object(s.a)(f,2),h=g[0],E=g[1],v=r.a.useState(Fa),b=Object(s.a)(v,2),w=b[0],j=b[1],k=r.a.useState(!1),O=Object(s.a)(k,2),C=O[0],x=O[1],N=Object(Pa.useSnackbar)().enqueueSnackbar,S=function(e){return N(e,{variant:"warning"})};r.a.useEffect((function(){t?(x(!0),fe(t).then((function(e){j([e.name].concat(Object(Fe.a)(Fa.slice(1,Fa.length)))),E(e),p(!0),x(!1)}))):(E(qa),j(Fa),p(!1))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(ue.a,{className:a.paper},r.a.createElement(y.a,{component:"h1",variant:"h4",align:"center"},w[c]),r.a.createElement(Le.a,{activeStep:c,className:a.stepper},w.map((function(e){return r.a.createElement(_e.a,{key:e},r.a.createElement(Ge.a,null,e))}))),r.a.createElement(r.a.Fragment,null,c===w.length?r.a.createElement(Da,null):r.a.createElement(r.a.Fragment,null,C?r.a.createElement(Se.a,null):Ta(c,E,h),r.a.createElement(Ua,{steps:w,step:c,classes:a,back:function(){return l(c-1)},next:function(){h.hasError?Object.values(h.errors).forEach((function(e){return e&&S(e)})):0!==c||m?m&&he(t,h).then((function(e){j([e.name].concat(Object(Fe.a)(Fa.slice(1,Fa.length)))),l(c+1)}),(function(e){S(e.response.data.message)})):pe(h).then((function(a){var t=a.data;p(!0),E(t),e.history.push("/record/".concat(t.id)),l(c+1)}),(function(e){return S(e.response.data.message)}))}})))),t&&c<1&&r.a.createElement(_a,null),r.a.createElement(Ne,null)))}function _a(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"This is not what you are looking for?, ",r.a.createElement(h.a,{color:"inherit",component:C,to:"/new-record"},"Click here"),", and Go to create a new recording.")}function Ga(e){return r.a.createElement(Pa.SnackbarProvider,{maxSnack:3},r.a.createElement(La,e))}function Ja(){var e=re(),a=r.a.useState([]),t=Object(s.a)(a,2),n=t[0],o=t[1],c=function(){var e;return ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne.a.awrap(ge());case 2:e=a.sent,o(e);case 4:case"end":return a.stop()}}))},l=r.a.useState(!1),i=Object(s.a)(l,2),u=i[0],m=i[1];return r.a.useEffect((function(){c()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null),r.a.createElement("main",{className:e.layout},r.a.createElement(ue.a,{className:e.paper},r.a.createElement(y.a,{component:"h1",variant:"h4",align:"center"},"Recordings"),r.a.createElement(Ce,null),r.a.createElement(oe.a,{className:e.table},r.a.createElement(ie.a,null,r.a.createElement(se.a,null,r.a.createElement(le.a,null,"Name"),r.a.createElement(le.a,{align:"right"},"student\xa0A"),r.a.createElement(le.a,{align:"right"},"student\xa0B"),r.a.createElement(le.a,{align:"right"},"Date"),r.a.createElement(le.a,{align:"right"},"Delete"))),r.a.createElement(ce.a,null,n.length?n.map((function(e,a){return r.a.createElement(se.a,{key:a},e.error?r.a.createElement(le.a,{scope:"row",component:"th",colSpan:5},e.error):r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{scope:"row",component:"th"},r.a.createElement(h.a,{color:"inherit",component:C,to:"/record/".concat(e.id)},Object(xe.upperFirst)(e.name))),r.a.createElement(le.a,{align:"right"},e.studentA),r.a.createElement(le.a,{align:"right"},e.studentB),r.a.createElement(le.a,{align:"right"},e.date.split("T")[0]),r.a.createElement(le.a,{align:"right"},r.a.createElement(Ie.a,{onClick:function(){return m(e.id)}}))))})):r.a.createElement(se.a,null,r.a.createElement(le.a,{colSpan:5},r.a.createElement(Se.a,null)))))),r.a.createElement(_a,null),r.a.createElement(Ne,null)),r.a.createElement(qe,{open:u,handleClose:function(){return m(!1)},handleOk:function(e){return ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:Ee(e).then((function(){c(),m(!1)}),(function(e){console.log(e)}));case 1:case"end":return a.stop()}}))},title:"Are you sure?",message:"This action can not be undone."}))}var za=function(e){var a=e.component,t=Object(Ye.a)(e,["component"]);return r.a.createElement(W.Consumer,null,(function(e){var n=e.isAuthenticated;return r.a.createElement(L.b,Object.assign({render:function(e){return n()?r.a.createElement(a,e):r.a.createElement(L.a,{to:"/sign-in"})}},t))}))},Ha=function(e){var a=e.component,t=Object(Ye.a)(e,["component"]);return r.a.createElement(W.Consumer,null,(function(e){var n=e.isAuthenticated;return r.a.createElement(L.b,Object.assign({render:function(e){return n()?r.a.createElement(L.a,{to:"/"}):r.a.createElement(a,e)}},t))}))};var Ma=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.d,null,r.a.createElement(za,{exact:!0,path:"/",component:ae}),r.a.createElement(Ha,{exact:!0,path:"/sign-in",component:G}),r.a.createElement(Ha,{exact:!0,path:"/sign-up",component:M}),r.a.createElement(za,{exact:!0,path:"/new-record",component:Ga}),r.a.createElement(za,{path:"/record/:id",component:Ga}),r.a.createElement(za,{exact:!0,path:"/recordings",component:Ja})))};c.a.render(r.a.createElement(O.a,{basename:"/jeval-web"},r.a.createElement(T,null,r.a.createElement(Ma,null))),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.cc1b77a3.chunk.js.map