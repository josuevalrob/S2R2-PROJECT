(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){e.exports=a(200)},188:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(12),i=a(13),u=a(255),s=a(252),m=a(251),p=a(276),d=a(254),f=a(280),g=a(258),b=a(257),h=a(84),v=a.n(h),E=a(68),y=a(249),O=a(75),j=Object(O.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),w=a(39),k=r.a.forwardRef(function(e,t){return r.a.createElement(w.b,Object.assign({innerRef:t},e))}),C=a(132),S=a.n(C),x=a(81),P=a(82),N=a(93),A=a(83),D=a(94),I="current-user",R=r.a.createContext(),B=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(N.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={user:JSON.parse(localStorage.getItem(I)||"{}")},a.handleUserChange=function(e){a.setState({user:e}),e?localStorage.setItem(I,JSON.stringify(e)):localStorage.removeItem(I)},a.isAuthenticated=function(){return!!(a.state.user&&a.state.user.data&&a.state.user.data.email)},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement(R.Provider,{value:{user:this.state.user,onUserChange:this.handleUserChange,isAuthenticated:this.isAuthenticated}},this.props.children)}}]),t}(n.Component),W=function(e){return function(t){return r.a.createElement(R.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},a,t))})}};console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/jeval-web",REACT_APP_API_URL:"http://localhost:3001"}));var U=S.a.create({baseURL:"".concat("http://localhost:3001"),withCredentials:!0});U.interceptors.response.use(function(e){return e},function(e){if(403!==e.response.status&&401!==e.response.status)return Promise.reject(e);localStorage.removeItem(I),window.location.assign("/sign-in")});var T=U,q={register:function(e){return T.post("/signup",e)},authenticate:function(e){return T.post("/signin",e)},logout:function(){return T.post("/logout")}},F=a(46),L=a(256);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var G=W(function(e){var t=j(),a=r.a.useState({email:"",password:""}),n=Object(i.a)(a,2),o=n[0],c=n[1],h=r.a.useState(!1),O=Object(i.a)(h,2),w=O[0],C=O[1],S=function(e){return function(t){return c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},o,Object(l.a)({},e,t.target.value)))}};return r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(v.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(t){t.preventDefault(),C(!0),q.authenticate(o).then(function(t){C(!1),e.onUserChange(t)},function(e){var t=e.message,a=e.errors;console.error(t,a),C(!1)})}},r.a.createElement(p.a,{onChange:S("email"),value:o.email||"",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",autoFocus:!0,type:"email"}),r.a.createElement(p.a,{onChange:S("password"),value:o.password||"",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",autoComplete:"off",type:"password"}),r.a.createElement(d.a,{control:r.a.createElement(f.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},w?r.a.createElement(L.a,{className:t.progress,color:"secondary"}):"Sign In"),r.a.createElement(b.a,{container:!0},r.a.createElement(b.a,{item:!0,xs:!0},r.a.createElement(g.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(b.a,{item:!0},r.a.createElement(g.a,{to:"/sign-up",component:k,variant:"body2"},"Don't have an account? Sign Up"))))))}),J=a(281),z=a(259),H=a(205);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Z=W(function(e){var t=j(),a=r.a.useState(!1),n=Object(i.a)(a,2),o=n[0],c=n[1],f=r.a.useState({email:"",password:"",name:"",lastName:"",rol:"student"}),h=Object(i.a)(f,2),O=h[0],w=h[1],C=function(e){return function(t){return w(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},O,Object(l.a)({},e,t.target.value)))}};return o?r.a.createElement(F.a,{to:"/"}):r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(v.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,onSubmit:function(t){t.preventDefault(),q.register(O).then(function(t){e.onUserChange(t),c(!0)},function(e){var t=e.message,a=e.errors;console.error(t,a)})},autoComplete:"off"},r.a.createElement(b.a,{container:!0,spacing:2},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{autoComplete:"off",name:"name",onChange:C("name"),value:O.name||"",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{onChange:C("lastName"),value:O.lastName||"",variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"off"})),r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:C("email"),value:O.email||"",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"none"})),r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:C("password"),value:O.password||"",variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"password",type:"password",id:"password",autoComplete:"none"})),r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(H.a,{row:!0},r.a.createElement(z.a,{row:!0,name:O.rol,value:O.rol,onChange:C("rol")},r.a.createElement(d.a,{value:"teacher",control:r.a.createElement(J.a,null),label:"Teacher"}),r.a.createElement(d.a,{value:"student",control:r.a.createElement(J.a,null),label:"Student"}))))),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"),r.a.createElement(b.a,{container:!0},r.a.createElement(b.a,{item:!0,xs:!0},r.a.createElement(g.a,{href:"#",variant:"body2",color:"secondary"},"Register with google")),r.a.createElement(b.a,{item:!0},r.a.createElement(g.a,{to:"/sign-in",component:k,variant:"body2"},"Already have an account? Sign In"))))))}),Q=a(133),Y=a.n(Q),V=a(134),$=a.n(V),K=Object(O.a)(function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20}}});function X(){var e=K();return r.a.createElement("div",null,r.a.createElement(u.a,{to:"/new-record",component:k,variant:"contained",color:"primary",className:e.button},"New Record",r.a.createElement(Y.a,{className:e.rightIcon})),r.a.createElement(u.a,{to:"/recordings",component:k,variant:"contained",color:"default",className:e.button},"Check Recordins",r.a.createElement($.a,{className:e.leftIcon})))}var ee=Object(O.a)(function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(2),marginTop:"auto",backgroundColor:"white"}}});var te=W(function(e){var t=e.user,a=e.onUserChange,n=t.data;return r.a.createElement(E.a,{variant:"body2",color:"textSecondary"},"Hello ".concat(n.name,", here you can "),r.a.createElement(g.a,{color:"inherit",to:"/profile/".concat(n.id),component:k},"edit your profile")," or simply  ",r.a.createElement(g.a,{color:"inherit",to:"/",onClick:function(){return a()},component:k},"logout")," from the site")});function ae(){var e=ee();return r.a.createElement("div",{className:e.root},r.a.createElement(m.a,null),r.a.createElement(y.a,{component:"main",className:e.main,maxWidth:"sm"},r.a.createElement(E.a,{variant:"h2",component:"h1",gutterBottom:!0},"Jeval"),r.a.createElement(E.a,{variant:"h5",component:"h2",gutterBottom:!0},"A simple App for voice recording and spech recognition analysis."),r.a.createElement(E.a,{variant:"body1"},"What do you want to do now."),r.a.createElement(X,null)),r.a.createElement("footer",{className:e.footer},r.a.createElement(y.a,{maxWidth:"sm"},r.a.createElement(E.a,{variant:"body1"},"Customization"),r.a.createElement(te,null))))}var ne=a(19),re=a.n(ne),oe=a(34),ce=Object(O.a)(function(e){return{appBar:{position:"relative"},layout:Object(l.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(900+2*e.spacing(2)),{width:900,marginLeft:"auto",marginRight:"auto"}),paper:Object(l.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(900+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},progress:{margin:e.spacing(2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},table:{minWidth:650}}}),le=a(271),ie=a(275),ue=a(274),se=a(272),me=a(273),pe=a(109);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var fe="/recording",ge=function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{studentA:e.students[0],studentB:e.students[1]})},be={create:function(e){return T.post(fe,e)},read:function(e){return T.get("".concat(fe,"/").concat(e)).then(function(e){var t=e.data;return ge(t)})},getData:function(){return T.get("".concat(fe)).then(function(e){return e.data.map(ge)}).catch(function(e){return[{error:e.response.data.message}]})},update:function(e,t){return T.put("".concat(fe,"/").concat(e),t).then(function(e){var t=e.data;return ge(t)})},createAudio:function(e,t){return T.put("".concat(fe,"/").concat(e,"/create"),t).then(function(e){var t=e.data;return ge(t)})},destroy:function(e){return T.delete("".concat(fe,"/").concat(e))},singleAudio:function(e,t){return T.put("".concat(fe,"/").concat(e,"/single"),t).then(function(e){var t=e.data;return ge(t)})},deleteSingleAudio:function(e,t){return T.put("".concat(fe,"/").concat(e,"/singleDelete"),t)},deleteAudio:function(e,t){return T.put("".concat(fe,"/").concat(e,"/delete"),t)}},he=a(135),ve=a.n(he),Ee=a(285),ye=a(8),Oe=Object(O.a)(function(e){return{root:{},menuButton:{marginRight:e.spacing(2)},search:Object(l.a)({flexGrow:1,position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ye.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ye.d)(e.palette.common.white,.25)},marginRight:0,width:"100%"},e.breakpoints.up("sm"),{marginRight:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}});function je(){var e=Oe();return r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(ve.a,null)),r.a.createElement(Ee.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}))}var we=a(136);var ke=function(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"If you don't wanna be here, ",r.a.createElement(g.a,{color:"inherit",component:k,to:"/"},"Go back")," to the main menu.")},Ce=a(270),Se=a(144),xe=a.n(Se),Pe=a(283),Ne=a(263),Ae=a(261),De=a(262),Ie=a(260),Re=a(124),Be=r.a.forwardRef(function(e,t){return r.a.createElement(Re.a,Object.assign({direction:"up",ref:t},e))});function We(e){var t=e.open,a=e.message,n=e.handleClose,o=e.handleOk;return r.a.createElement(Pe.a,{open:!!t,TransitionComponent:Be,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ie.a,{id:"alert-dialog-slide-title"},"Delete Recording"),r.a.createElement(Ae.a,null,r.a.createElement(De.a,{id:"alert-dialog-slide-description"},a)),r.a.createElement(Ne.a,null,r.a.createElement(u.a,{onClick:n,color:"primary"},"Disagree"),r.a.createElement(u.a,{onClick:function(){return o(t)},color:"primary"},"Agree")))}var Ue=a(67),Te=a(284),qe=a(269),Fe=a(282),Le=a(264),_e=function(e){var t=e.arr,a=e.obj,n=e.handle,o=e.student,c=e.stage;return r.a.createElement(H.a,{row:!0},t.map(function(e,t){var l=!!a[e.key][c];return r.a.createElement(b.a,{item:!0,xs:6,key:t},r.a.createElement(d.a,{control:r.a.createElement(Le.a,{checked:l,value:l,onChange:n(e.key,o,c),color:"primary"}),label:e.label}))}))},Ge=[{key:"confident",label:"Confident",value:!1},{key:"lost",label:"Lost",value:!1},{key:"nervous",label:"Nervous",value:!1},{key:"nothing",label:"I didn't feel anything",value:!1}],Je=[{key:"startingConversation",label:"Starting the Conversation",value:[!1,!1,!1]},{key:"myOpinion",label:"Giving my opinion",value:[!1,!1,!1]},{key:"asking",label:"Asking Questions",value:[!1,!1,!1]},{key:"partnerGesture",label:"Noticing my partners' gesture",value:[!1,!1,!1]},{key:"comments",label:"Making comments",value:[!1,!1,!1]},{key:"listeningPartnerIdeas",label:"Listening to my partner's ideas",value:[!1,!1,!1]},{key:"answering",label:"Answering Questions",value:[!1,!1,!1]},{key:"smiling",label:"Smiling",value:[!1,!1,!1]},{key:"eyeContact",label:"Establishing eye contact",value:[!1,!1,!1]},{key:"bodyLanguage",label:"Addresing body language",value:[!1,!1,!1]}],ze=a(278),He=a(265),Me=a(59),Ze=a(277);function Qe(e){var t=e.children,a=e.value,n=e.index,o=Object(Me.a)(e,["children","value","index"]);return r.a.createElement(E.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),r.a.createElement(Ze.a,{p:3},t))}var Ye=a(266),Ve=function(e,t,a){var n=j(),o=r.a.useState(0),c=Object(i.a)(o,2),l=c[0],u=c[1];return r.a.createElement(y.a,{component:"main"},r.a.createElement(m.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement(He.a,{position:"static",color:"default"},r.a.createElement(ze.a,{value:l,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",onChange:function(e,t){return u(t)}},t.map(function(e,t){return r.a.createElement(Ye.a,Object.assign({key:t},e,function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)))}))),a.map(function(t,a){return r.a.createElement(Qe,{value:l,index:a,key:a},r.a.createElement(b.a,{container:!0,spacing:3},r.a.createElement(e,t)))})))};function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Xe=function(e){return e.reduce(function(e,t){return e[t.key]=t.value,e},{})},et=function(e){var t=e.recording,a=e.fn,n=e.stage,o=t.cognitive,c=t.studentA,u=t.studentB,s=r.a.useState(!1),m=Object(i.a)(s,2),p=m[0],d=m[1],f=r.a.useReducer(function(e,r){var o=r.type,c=r.payload,l=null;switch(o){case 0:l=[Ke({},e[0],{},c),e[1]];break;case 1:l=[e[0],Ke({},e[1],{},c)];break;case"fill":l=c,d(!0);break;default:l=e}return a(tt(t,l,n)),l},[Xe(Je),Xe(Je)]),g=Object(i.a)(f,2),b=g[0],h=g[1];r.a.useEffect(function(){o&&o.length&&!p&&h({type:"fill",payload:o})},[o,p]);var v=function(e,t){return function(a){h({type:t,payload:Object(l.a)({},e,b[t][e].map(function(e,t){return t===n?!e:e}))})}},E=[{student:0,obj:b[0],handle:v,arr:Je,stage:n},{student:1,obj:b[1],handle:v,arr:Je,stage:n}];return Ve(_e,[{label:c},{label:u}],E)},tt=function(e,t,a){return Ke({},e,{},function(e,t){return e.map(function(e){return delete e._id&&e}).map(function(e){return Object.values(e).some(function(e){return e[t]})}).some(function(e){return!e})}(t,a)?{hasError:!0,errors:{cognitive:"At least one value should be selected for both students."}}:{hasError:!1,cognitive:t})},at=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,nt=/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi,rt={email:function(e){var t;return e?at.test(e)||(t="Invalid email pattern"):t="Email is required",t},name:function(e){var t;return(!e||e.length<3)&&(t="Name is required"),t},studentA:function(e){var t;return(!e||e.length<3)&&(t="The first student is required"),t},studentB:function(e){var t;return(!e||e.length<3)&&(t="The second student is required"),t},comments:function(e){var t;return e.length>140&&(t="Just a tweet... no more than 140 characters"),t},password:function(e){var t;return(!e||e.length<3)&&(t="Password is required"),t},image:function(e){var t;return nt.test(e)||(t="Invalid Url Pattern"),t},notesTitle:function(e){var t;return e||(t="We need a title for your Notes x"),t},markDown:function(e){var t;return(!e||e.length<140)&&(t="Give me at least a tweet!!"),t}};function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(a),!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var lt=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(N.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={content:a.props.recording.id?a.props.recording:Jt,errors:{name:a.props.recording.name?void 0:rt.name(),studentA:a.props.recording.studentA?void 0:rt.studentA(),studentB:a.props.recording.studentB?void 0:rt.studentB()}},a.hasErrors=function(){var e=a.state.content;return Object.keys(e).some(function(t){var a=e[t];return rt[t]&&rt[t](a)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,o=a.state,c=o.content,i=o.errors;a.setState({content:ct({},c,Object(l.a)({},n,r)),errors:ct({},i,Object(l.a)({},n,rt[n]&&rt[n](r)))},function(){var e=a.state,t=e.content,n=e.errors;a.hasErrors()?a.props.fn(ct({},t,{hasError:!0,errors:n})):a.props.fn(ct({},t,{students:[t.studentA,t.studentB]}))})},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.recording.id!==e.recording.id&&this.setState({content:this.props.recording,errors:{}})}},{key:"render",value:function(){var e=this.state.content;return r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",null,r.a.createElement(b.a,{container:!0,spacing:2},r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:this.handleChange,value:e.name,error:!!this.state.errors.name,variant:"outlined",fullWidth:!0,id:"name",name:"name",label:"Recording Name",autoComplete:"fname"})),r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{onChange:this.handleChange,value:e.studentA,error:!!this.state.errors.studentA,autoComplete:"fstudent",name:"studentA",variant:"outlined",required:!0,fullWidth:!0,id:"studentA",label:"First Student",autoFocus:!0})),r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{onChange:this.handleChange,value:e.studentB,error:!!this.state.errors.studentB,variant:"outlined",required:!0,fullWidth:!0,id:"studentB",label:"Second Student",name:"studentB",autoComplete:"sstudent"})),r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(p.a,{onChange:this.handleChange,value:e.comments,variant:"outlined",fullWidth:!0,id:"comments",label:"Some extra comments",name:"comments",rows:"4",multiline:!0,autoComplete:"fcomments"})))))}}]),t}(r.a.Component),it=Object(O.a)(function(e){return{card:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{backgroundColor:"#1565c0",width:160,display:"flex",justifyContent:"flex-end",flexDirection:"column"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{height:38,width:38},saveIcon:{margin:"auto",color:"#fff"}}}),ut=a(145),st=a(140),mt=a.n(st),pt=a(267),dt=a(204),ft=a(138),gt=a.n(ft),bt=a(139),ht=a.n(bt),vt=a(141),Et=a.n(vt),yt=a(90),Ot=a.n(yt),jt=a(137),wt=a.n(jt);function kt(e){var t=e.handleSave,a=it(),n=r.a.useState(!1),o=Object(i.a)(n,2),c=o[0],l=o[1],u=r.a.useState(!1),s=Object(i.a)(u,2),m=s[0],p=s[1],d=r.a.useState(new Blob),f=Object(i.a)(d,2),g=f[0],b=f[1],h=function(){var e=Object(oe.a)(re.a.mark(function e(){var a;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,t(g);case 3:a=e.sent,console.log(a),p(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.details},r.a.createElement(pt.a,{className:a.content},r.a.createElement(E.a,{component:"h5",variant:"h5"},"Track # 1")),r.a.createElement("div",{className:a.controls},r.a.createElement(dt.a,{onClick:function(){return l(!c)},"aria-label":"play/pause"},c?r.a.createElement(gt.a,{className:a.playIcon}):r.a.createElement(wt.a,{className:a.playIcon})),r.a.createElement(dt.a,{"aria-label":"previous",onClick:function(){new Audio(g.blobURL).play()},disabled:!g.blobURL},r.a.createElement(ht.a,{className:a.playIcon})))),g.blobURL?r.a.createElement("div",{className:a.cover},r.a.createElement("div",{className:a.saveIcon},r.a.createElement(dt.a,{onClick:h,"aria-label":"previous"},m?r.a.createElement(L.a,{className:a.progress}):r.a.createElement(Et.a,{className:a.saveIcon})),r.a.createElement(dt.a,{onClick:function(){},"aria-label":"previous"},r.a.createElement(Ot.a,null)))):r.a.createElement(ut.a,{className:a.cover,record:c,onStop:function(e){b(e)},strokeColor:"#ffffff",backgroundColor:mt.a[800]}))}a(188);var Ct=a(142),St=a.n(Ct),xt=function(e,t,a){var n=new FileReader;return n.readAsDataURL(a),new Promise(function(a,r){n.onerror=function(){n.abort(),r(new DOMException("Problem parsing file"))},n.onload=Object(oe.a)(re.a.mark(function o(){var c,l;return re.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:c=n.result.split(",")[1],l={audioName:t,audio:c},be.singleAudio(e,l).then(function(e){a(e)},function(e){console.error("Invalid status saving audio message: "+e.status),r(e)});case 3:case"end":return o.stop()}},o)}))})},Pt=a(143),Nt=a(268);function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(Object(a),!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function It(e){var t=e.recording,a=e.fn,n=t.id,o=t.audioId,c=function(){var e=Object(oe.a)(re.a.mark(function e(t){var r,o;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Pt.v4)(),e.prev=1,e.next=4,xt(n,r,t);case 4:return o=e.sent,a(o),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(oe.a)(re.a.mark(function e(r){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:be.deleteSingleAudio(n,{audioName:r}).then(a(Dt({},t,{audioId:""})),function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Rt,{newAudio:c,deleteAudio:l,audio:o})}var Rt=function(e){var t=e.newAudio,a=e.deleteAudio,n=e.audio;return r.a.createElement(y.a,{component:"main"},r.a.createElement(m.a,null),r.a.createElement(Nt.a,{style:{display:"flex",height:"100%"}},r.a.createElement(kt,{handleSave:function(e){var a=e.blob;return t(a)}}),!!n&&r.a.createElement("div",{style:{width:"100%",alignSelf:"center",overflow:"scroll"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(St.a,{src:"".concat("http://localhost:3001","/messages/").concat(n)}),r.a.createElement(dt.a,{style:{margin:".5em 0"},onClick:function(){return a(n)},"aria-label":"delete audio"},r.a.createElement(Ot.a,null))))))};function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(a),!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ut=function(e){return r.a.createElement(b.a,{container:!0,spacing:2},r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement("h3",null,e.questions.feel),r.a.createElement(Tt,e.feel)),r.a.createElement(b.a,{item:!0,xs:12,sm:6},r.a.createElement("h3",null,e.questions.help),r.a.createElement(H.a,{row:!0},r.a.createElement(z.a,{name:e.feel.student,value:e.help.value?"yes":"no",onChange:function(t){return e.help.handle(t,e.feel.student,"help")}},r.a.createElement(d.a,{value:"yes",control:r.a.createElement(J.a,null),label:"Yes, they did"}),r.a.createElement(d.a,{value:"no",control:r.a.createElement(J.a,null),label:"No, they didn't"})))))},Tt=function(e){var t=e.arr,a=e.value,n=e.handle,o=e.student;return r.a.createElement(H.a,{row:!0},r.a.createElement(z.a,{name:o,value:a,onChange:function(e){return n(e,o,"feel")}},t.map(function(e,t){return r.a.createElement(d.a,{key:t,value:e.key,control:r.a.createElement(J.a,null),label:e.label})})))},qt=function(e){var t=e.recording,a=e.fn,n=t.socioAffective,o=t.studentA,c=t.studentB,u=r.a.useState(!1),s=Object(i.a)(u,2),m=s[0],p=s[1],d=r.a.useReducer(function(e,n){var r=n.type,o=n.payload,c=null;switch(r){case"A":c=[Wt({},e[0],{},o),e[1]];break;case"B":c=[e[0],Wt({},e[1],{},o)];break;case"fill":c=o,p(!0);break;default:c=e}return a(Wt({},t,{socioAffective:c})),c},[{feel:"",help:void 0},{feel:"",help:!1}]),f=Object(i.a)(d,2),g=f[0],b=f[1];r.a.useEffect(function(){n&&n.length&&!m&&b({type:"fill",payload:n})},[n,m]);var h=function(e,t,a){var n=e.target.value;b({type:t,payload:"feel"===a?Object(l.a)({},a,n):Object(l.a)({},a,"yes"===n)})},v={feel:"How did you feel when using strategies?",help:"Did they help you to talk to your partner?"},E=[{feel:{arr:Ge,student:"A",value:g[0].feel,handle:h},questions:v,help:{value:g[0].help,handle:h}},{feel:{arr:Ge,student:"B",value:g[1].feel,handle:h},questions:v,help:{value:g[1].help,handle:h}}];return Ve(Ut,[{label:o},{label:c}],E)};var Ft=function(e,t,a){switch(e){case 0:return r.a.createElement(lt,{fn:t,recording:a});case 1:return r.a.createElement(et,{stage:0,fn:t,recording:a});case 2:return r.a.createElement(It,{fn:t,recording:a});case 3:return r.a.createElement(et,{stage:1,fn:t,recording:a});case 4:return r.a.createElement(qt,{fn:t,recording:a});case 5:return r.a.createElement(et,{stage:2,fn:t,recording:a});default:throw new Error("Unknown step")}},Lt=function(e){var t=e.step,a=e.classes,n=e.back,o=e.next,c=e.steps,l=e.blocked;return r.a.createElement("div",{className:a.buttons},0!==t&&r.a.createElement(u.a,{onClick:n,className:a.button},"Back"),r.a.createElement(u.a,{disabled:l,variant:"contained",color:"primary",onClick:o,className:a.button},t===c.length-1?"Resume":"Next"))},_t=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),r.a.createElement(E.a,{variant:"subtitle1"},"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped."))},Gt=a(108),Jt={id:"",name:"",comments:"",studentA:"",studentB:""},zt=["Set-Up","Before talking","Talking","After talking","Socio Affective","Future Recordings"];function Ht(e){var t=ce(),a=e.match.params.id,n=r.a.useState(0),o=Object(i.a)(n,2),c=o[0],l=o[1],u=r.a.useState(!1),s=Object(i.a)(u,2),p=s[0],d=s[1],f=r.a.useState({}),g=Object(i.a)(f,2),b=g[0],h=g[1],v=r.a.useState(zt),y=Object(i.a)(v,2),O=y[0],j=y[1],w=r.a.useState(!1),k=Object(i.a)(w,2),C=k[0],S=k[1],x=Object(Gt.useSnackbar)().enqueueSnackbar,P=function(e){return x(e,{variant:"warning"})};r.a.useEffect(function(){a?(S(!0),be.read(a).then(function(e){j([e.name].concat(Object(Ue.a)(zt.slice(1,zt.length)))),h(e),d(!0),S(!1)})):(h(Jt),j(zt),d(!1))},[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),r.a.createElement("main",{className:t.layout},r.a.createElement(pe.a,{className:t.paper},r.a.createElement(E.a,{component:"h1",variant:"h4",align:"center"},O[c]),r.a.createElement(Te.a,{activeStep:c,className:t.stepper},O.map(function(e){return r.a.createElement(qe.a,{key:e},r.a.createElement(Fe.a,null,e))})),r.a.createElement(r.a.Fragment,null,c===O.length?r.a.createElement(_t,null):r.a.createElement(r.a.Fragment,null,C?r.a.createElement(Ce.a,null):Ft(c,h,b),r.a.createElement(Lt,{steps:O,step:c,classes:t,back:function(){return l(c-1)},next:function(){b.hasError?Object.values(b.errors).forEach(function(e){return e&&P(e)}):0!==c||p?p&&be.update(a,b).then(function(e){j([e.name].concat(Object(Ue.a)(zt.slice(1,zt.length)))),l(c+1)},function(e){P(e.response.data.message)}):be.create(b).then(function(t){var a=t.data;d(!0),h(a),e.history.push("/record/".concat(a.id)),l(c+1)},function(e){return P(e.response.data.message)})}})))),a&&c<1&&r.a.createElement(Mt,null),r.a.createElement(ke,null)))}function Mt(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"This is not what you are looking for?, ",r.a.createElement(g.a,{color:"inherit",component:k,to:"/new-record"},"Click here"),", and Go to create a new recording.")}function Zt(e){return r.a.createElement(Gt.SnackbarProvider,{maxSnack:3},r.a.createElement(Ht,e))}function Qt(){var e=ce(),t=r.a.useState([]),a=Object(i.a)(t,2),n=a[0],o=a[1],c=function(){var e=Object(oe.a)(re.a.mark(function e(){var t;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.getData();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),l=r.a.useState(!1),u=Object(i.a)(l,2),s=u[0],p=u[1],d=function(){var e=Object(oe.a)(re.a.mark(function e(t){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:be.destroy(t).then(function(){c(),p(!1)},function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.useEffect(function(){c()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),r.a.createElement("main",{className:e.layout},r.a.createElement(pe.a,{className:e.paper},r.a.createElement(E.a,{component:"h1",variant:"h4",align:"center"},"Recordings"),r.a.createElement(je,null),r.a.createElement(le.a,{className:e.table},r.a.createElement(se.a,null,r.a.createElement(me.a,null,r.a.createElement(ue.a,null,"Name"),r.a.createElement(ue.a,{align:"right"},"student\xa0A"),r.a.createElement(ue.a,{align:"right"},"student\xa0B"),r.a.createElement(ue.a,{align:"right"},"Date"),r.a.createElement(ue.a,{align:"right"},"Delete"))),r.a.createElement(ie.a,null,n.length?n.map(function(e,t){return r.a.createElement(me.a,{key:t},e.error?r.a.createElement(ue.a,{scope:"row",component:"th",colSpan:5},e.error):r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{scope:"row",component:"th"},r.a.createElement(g.a,{color:"inherit",component:k,to:"/record/".concat(e.id)},Object(we.upperFirst)(e.name))),r.a.createElement(ue.a,{align:"right"},e.studentA),r.a.createElement(ue.a,{align:"right"},e.studentB),r.a.createElement(ue.a,{align:"right"},e.date.split("T")[0]),r.a.createElement(ue.a,{align:"right"},r.a.createElement(xe.a,{onClick:function(){return p(e.id)}}))))}):r.a.createElement(me.a,null,r.a.createElement(ue.a,{colSpan:5},r.a.createElement(Ce.a,null)))))),r.a.createElement(Mt,null),r.a.createElement(ke,null)),r.a.createElement(We,{open:s,handleClose:function(){return p(!1)},handleOk:d,title:"Are you sure?",message:"This action can not be undone."}))}var Yt=function(e){var t=e.component,a=Object(Me.a)(e,["component"]);return r.a.createElement(R.Consumer,null,function(e){var n=e.isAuthenticated;return r.a.createElement(F.b,Object.assign({render:function(e){return n()?r.a.createElement(t,e):r.a.createElement(F.a,{to:"/sign-in"})}},a))})},Vt=function(e){var t=e.component,a=Object(Me.a)(e,["component"]);return r.a.createElement(R.Consumer,null,function(e){var n=e.isAuthenticated;return r.a.createElement(F.b,Object.assign({render:function(e){return n()?r.a.createElement(F.a,{to:"/"}):r.a.createElement(t,e)}},a))})};var $t=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.d,null,r.a.createElement(Yt,{exact:!0,path:"/",component:ae}),r.a.createElement(Vt,{exact:!0,path:"/sign-in",component:G}),r.a.createElement(Vt,{exact:!0,path:"/sign-up",component:Z}),r.a.createElement(Yt,{exact:!0,path:"/new-record",component:Zt}),r.a.createElement(Yt,{path:"/record/:id",component:Zt}),r.a.createElement(Yt,{exact:!0,path:"/recordings",component:Qt})))};c.a.render(r.a.createElement(w.a,{basename:"/jeval-web"},r.a.createElement(B,null,r.a.createElement($t,null))),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.336cf79b.chunk.js.map